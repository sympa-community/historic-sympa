<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with jLaTeX2HTML 2002-2-1 (1.70) JA patch-2.0
patched version by:  Kenshi Muto, Debian Project.
* modified by:  Shige TAKENO
LaTeX2HTML 2002-2-1 (1.70),
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>3. Installing Sympa </TITLE>
<META NAME="description" CONTENT="3. Installing Sympa ">
<META NAME="keywords" CONTENT="sympa">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="jLaTeX2HTML v2002-2-1 JA patch-2.0">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="sympa.css">

<LINK REL="next" HREF="node5.html">
<LINK REL="previous" HREF="node3.html">
<LINK REL="up" HREF="sympa.html">
<LINK REL="next" HREF="node5.html">
</HEAD>

<BODY TEXT="#000000" BGCOLOR="#ffffff">
<!--Navigation Panel-->
<A NAME="tex2html723"
  HREF="node5.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html717"
  HREF="sympa.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html711"
  HREF="node3.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html719"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html721"
  HREF="node26.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html724"
  HREF="node5.html">4. Upgrading Sympa</A>
<B> Up:</B> <A NAME="tex2html718"
  HREF="sympa.html">Sympa Mailing Lists Management Software version</A>
<B> Previous:</B> <A NAME="tex2html712"
  HREF="node3.html">2. what does Sympa consist of</A>
 &nbsp; <B>  <A NAME="tex2html720"
  HREF="node1.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html722"
  HREF="node26.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html725"
  HREF="node4.html#SECTION00410000000000000000">3.1 Obtaining <I>Sympa</I>, related links</A>
<LI><A NAME="tex2html726"
  HREF="node4.html#SECTION00420000000000000000">3.2 Prerequisites</A>
<UL>
<LI><A NAME="tex2html727"
  HREF="node4.html#SECTION00421000000000000000">3.2.1 System requirements</A>
<LI><A NAME="tex2html728"
  HREF="node4.html#SECTION00422000000000000000">3.2.2 Install Berkeley DB (NEWDB)</A>
<LI><A NAME="tex2html729"
  HREF="node4.html#SECTION00423000000000000000">3.2.3 Install PERL and CPAN modules</A>
<LI><A NAME="tex2html730"
  HREF="node4.html#SECTION00424000000000000000">3.2.4 Required CPAN modules</A>
<LI><A NAME="tex2html731"
  HREF="node4.html#SECTION00425000000000000000">3.2.5 Create a UNIX user</A>
</UL>
<BR>
<LI><A NAME="tex2html732"
  HREF="node4.html#SECTION00430000000000000000">3.3 Compilation and installation </A>
<UL>
<LI><A NAME="tex2html733"
  HREF="node4.html#SECTION00431000000000000000">3.3.1 Choosing directory locations</A>
</UL>
<BR>
<LI><A NAME="tex2html734"
  HREF="node4.html#SECTION00440000000000000000">3.4 Robot aliases</A>
<LI><A NAME="tex2html735"
  HREF="node4.html#SECTION00450000000000000000">3.5 Logs</A>
<LI><A NAME="tex2html736"
  HREF="node4.html#SECTION00460000000000000000">3.6 INIT script</A>
<LI><A NAME="tex2html737"
  HREF="node4.html#SECTION00470000000000000000">3.7 sympa.pl</A>
</UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION00400000000000000000">
3. Installing <I>Sympa</I> </A>
</H1>

<P>
<I>Sympa</I> is a program written in PERL. It also calls a short
program written in C for tasks which it would be unreasonable to
perform via an interpreted language.

<P>

<H1><A NAME="SECTION00410000000000000000">
3.1 Obtaining <I>Sympa</I>, related links</A>
</H1>

<P>
The <I>Sympa</I> distribution is available from
<A NAME="tex2html11"
  HREF="http://www.sympa.org"><TT>http://www.sympa.org</TT></A>.
All important resources are referenced there:

<P>

<UL>
<LI>sources
</LI>
<LI><A NAME="5076"></A><TT>RELEASE_NOTES</TT>
</LI>
<LI>.rpm and .deb packages for Linux
</LI>
<LI>user mailing list
        (see&nbsp;<A HREF="node2.html#sympa_cru.fr">1.6</A>, page&nbsp;<A HREF="node2.html#sympa_cru.fr"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>)
</LI>
<LI>contributions
</LI>
<LI>...
</LI>
</UL>

<P>

<H1><A NAME="SECTION00420000000000000000">
3.2 Prerequisites</A>
</H1>

<P>
<I>Sympa</I> installation and configuration are relatively easy
tasks for experienced UNIX users who have already installed PERL packages.

<P>
Note that most of the installation time will
involve putting in place the prerequisites, if they are not
already on the system. No more than a handful of ancillary tools are needed,
and on recent UNIX systems their installation is normally very
straightforward. We strongly advise you to perform installation steps and
checks in the order listed below; these steps will be explained in
detail in later sections.

<P>

<UL>
<LI>identification of host system characteristics

<P>
</LI>
<LI>installation of DB Berkeley module (already installed on
      most UNIX systems)

<P>
</LI>
<LI>installing a <A NAME="5080"></A>RDBMS (<A NAME="5081"></A>Oracle, <A NAME="5082"></A>MySQL, <A NAME="5083"></A>Sybase or <A NAME="5084"></A>PostgreSQL) and creating <I>Sympa</I>'s Database. This is required for using the web interface for <I>Sympa</I>. Please refers to <I>Sympa</I> and its database section (<A HREF="node8.html#sec-rdbms">7</A>, page&nbsp;<A HREF="node8.html#sec-rdbms"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>).

<P>
</LI>
<LI>installation of
	<A NAME="5088"></A>CPAN
        <A NAME="tex2html12"
  HREF="http://www.perl.com/CPAN">CPAN (Comprehensive PERL Archive Network)</A>
modules

<P>
</LI>
<LI>creation of a UNIX user

<P>
</LI>
</UL>

<P>

<H2><A NAME="SECTION00421000000000000000">
3.2.1 System requirements</A>
</H2>

<P>
You should have a UNIX system that is more or less recent in order
to be able to use <I>Sympa</I>. In particular, it is necessary
that your system have an ANSI C compiler (in other words, your compiler
should support prototypes);

<P>
<I>Sympa</I> has been installed and tested on the following
systems, therefore you should not have any special problems:

<P>

<UL>
<LI>Linux (various distributions)
</LI>
<LI>FreeBSD 2.2.x and 3.x
</LI>
<LI>NetBSD
</LI>
<LI>Digital UNIX 4.x
</LI>
<LI>Solaris 2.5 and 2.6
</LI>
<LI>AIX 4.x
</LI>
<LI>HP-UX 10.20
</LI>
</UL>

<P>
Anyone willing to port it to NT ? ;-)

<P>
Finally, most UNIX systems are now supplied with an ANSI C compiler;
if this is not the case, you can install the <A NAME="5091"></A><TT>gcc</TT> compiler,
which you will find on the nearest GNU site, for example
<A NAME="tex2html13"
  HREF="ftp://ftp.oleane.net/pub/mirrors/gnu/">in France</A>.

<P>
To complete the installation, you should make sure that you have a
sufficiently recent release of the <A NAME="5094"></A><TT>sendmail</TT> MTA, i.e. release
<A NAME="tex2html14"
  HREF="ftp://ftp.oleane.net/pub/mirrors/sendmail-ucb/">8.9.x</A>
or a more recent release. You may also use <A NAME="5097"></A><TT>postfix</TT> or
<A NAME="5100"></A><TT>qmail</TT>.

<P>

<H2><A NAME="SECTION00422000000000000000">
3.2.2 Install Berkeley DB (NEWDB)</A>
</H2>

<P>
UNIX systems often include a particularly unsophisticated mechanism to
manage indexed files.  This consists of extensions known as <TT>dbm</TT>
and <TT>ndbm</TT>, which are unable to meet the needs of many more recent
programs, including <I>Sympa</I>, which uses the <A NAME="5104"></A>DB package
initially developed at the University of California in Berkeley,
and which is now maintained by the company <A NAME="tex2html15"
  HREF="http://www.sleepycat.com">Sleepycat software</A>.  Many UNIX  systems
like Linux, FreeBSD or Digital UNIX 4.x have the DB package in the
standard version. If not you should install this tool if you have not 
already done so.

<P>
You can retrieve DB on the
<A NAME="tex2html16"
  HREF="http://www.sleepycat.com/">Sleepycat site</A>,
where you will also find clear installation instructions.

<P>

<H2><A NAME="SECTION00423000000000000000"></A>
<A NAME="Install_PERL_and_CPAN_modules"></A>	<A NAME="411"></A>
<BR>
3.2.3 Install PERL and CPAN modules
</H2>

<P>
To be able to use <I>Sympa</I> you must have release 5.004_03 or later of the
PERL language, as well as several CPAN modules.

<P>
At <TT>make</TT> time, the <A NAME="5106"></A><TT>check_perl_modules.pl</TT> script is run to
check for installed versions of required PERL and CPAN modules. If a CPAN module is
missing or out of date, this script will install it for you. 

<P>
You can also download and install CPAN modules yourself. You will find 
a current release of the PERL interpreter in the nearest CPAN archive. 
If you do not know where to find a nearby site, use the
<A NAME="tex2html17"
  HREF="http://www.perl.com/CPAN/src/latest.tar.gz">CPAN multiplexor</A>;
it will find one for you.

<P>

<H2><A NAME="SECTION00424000000000000000">
3.2.4 Required CPAN modules</A>
</H2>

<P>
The following CPAN modules required by <I>Sympa</I> are not included in the standard
PERL distribution. At <A NAME="5110"></A><TT>make</TT> time, Sympa will prompt you for missing
Perl modules and will attempt to install the missing ones automatically ; this 
operation requires root privileges.

<P>
Because Sympa features evolve from one relaease to another, the following list 
of modules might not be up to date :

<P>

<UL>
<LI><A NAME="5113"></A><TT>DB_File</TT> (v. 1.50 or later)
</LI>
<LI><A NAME="5116"></A><TT>Digest-MD5</TT>
</LI>
<LI><A NAME="5119"></A><TT>MailTools</TT> (version 1.13 o later)
</LI>
<LI><A NAME="5122"></A><TT>IO-stringy</TT>
</LI>
<LI><A NAME="5125"></A><TT>MIME-tools</TT> (may require IO/Stringy)
</LI>
<LI><A NAME="5128"></A><TT>MIME-Base64</TT>
</LI>
<LI><A NAME="5131"></A><TT>CGI</TT>
</LI>
<LI><A NAME="5134"></A><TT>File-Spec</TT>
</LI>
<LI><A NAME="5137"></A><TT>libintl-perl</TT>
</LI>
<LI><A NAME="5140"></A><TT>Template-Toolkit</TT>
</LI>
</UL>

<P>
Since release 2, <I>Sympa</I> requires an RDBMS to work properly. It stores 
users' subscriptions and preferences in a database. <I>Sympa</I> is also
able to extract user data from within an external database. 
These features require that you install database-related PERL libraries.
This includes the generic Database interface (DBI) and a Database Driver
for your RDBMS (DBD) :

<P>

<UL>
<LI><A NAME="5145"></A><TT>DBI</TT> (DataBase Interface)

<P>
</LI>
<LI><A NAME="5148"></A><TT>DBD</TT> (DataBase Driver) related to your RDBMS (e.g.
       Msql-Mysql-modules for MySQL)

<P>
</LI>
</UL>

<P>
If you plan to interface <I>Sympa</I> with an <A NAME="5152"></A>LDAP directory to build
dynamical mailing lists, you need to install PERL LDAP libraries :

<P>

<UL>
<LI><A NAME="5153"></A><TT>Net::LDAP</TT> (perlldap).

<P>
</LI>
</UL>

<P>
Passwords in Sympa database can be crypted ; therefore you need to
install the following reversible cryptography library :

<P>

<UL>
<LI><A NAME="5156"></A><TT>CipherSaber</TT>

<P>
</LI>
</UL>

<P>
For performence concerns, we recommend using <A NAME="5159"></A><I>WWSympa</I> as a persistent CGI,
using <A NAME="5162"></A>FastCGI. Therefore you need to install the following Perl module :

<P>

<UL>
<LI><A NAME="5163"></A><TT>FCGI</TT>

<P>
</LI>
</UL>

<P>
If you want to Download Zip files of list's Archives, you'll need to install
perl Module for Archive Management : 

<P>

<UL>
<LI><A NAME="5166"></A><TT>Archive::Zip</TT>

<P>
</LI>
</UL>

<P>

<H2><A NAME="SECTION00425000000000000000">
3.2.5 Create a UNIX user</A>
</H2>

<P>
The final step prior to installing <I>Sympa</I>: create a UNIX user (and
if possible a group) specific to the program. Most of the installation
will be carried out with this account. We suggest that you use the
name <TT>sympa</TT> for both user and group. 

<P>
Numerous files will be located in the <I>Sympa</I> user's login directory.
Throughout the remainder of this documentation we shall refer to this
login directory as <A NAME="5171"></A><TT>/usr/local/sympa-os/</TT>.

<P>

<H1><A NAME="SECTION00430000000000000000">
3.3 Compilation and installation </A>
</H1>

<P>
Before using <I>Sympa</I>, you must customize the sources in order to
specify a small number of parameters specific to your installation.

<P>
First, extract the sources from the archive file, for example
in the <A NAME="5175"></A><TT>~sympa/src/</TT> directory: the archive will create a
directory named <A NAME="5180"></A><TT>sympa-5.0.1/</TT> where all the useful files
and directories will be located. In particular, you will have a
<A NAME="5183"></A><TT>doc/</TT> directory containing this documentation in various
formats; a <A NAME="5186"></A><TT>sample/</TT> directory containing a few examples of
configuration files; a <A NAME="5189"></A><TT>locale/</TT> directory where multi-lingual
messages are stored; and, of course, the <A NAME="5192"></A><TT>src/</TT> directory for the
mail robot and <A NAME="5195"></A><TT>wwsympa</TT> for the web interface.

<P>
Example:

<P>
<BLOCKQUOTE>
<TT># su - 
<BR>$ gzip -dc sympa-5.0.1.tar.gz | tar xf -

</TT></BLOCKQUOTE>

<P>
<A NAME="makefile"></A>
<P>
Now you can run the installation process :

<P>
<BLOCKQUOTE>
<TT>$ ./configure
<BR>$ make
<BR>$ make install
<BR>
</TT></BLOCKQUOTE>

<P>
<A NAME="5198"></A><TT>configure</TT> will build the <A NAME="5201"></A><TT>Makefile</TT> ; it recognizes the following 
command-line arguments :

<P>

<UL>
<LI><A NAME="5204"></A><TT>- - prefix=PREFIX</TT>, the <I>Sympa</I> homedirectory (default /home/sympa/)

<P>
</LI>
<LI><A NAME="5208"></A><TT>- - with-bindir=DIR</TT>, user executables in DIR (default /home/sympa/bin/)
<BR><A NAME="5211"></A><TT>queue</TT> and <A NAME="5214"></A><TT>bouncequeue</TT> programs will be installed in this directory.
If sendmail is configured to use smrsh (check the mailer prog definition in your sendmail.cf),
this should point to <A NAME="5217"></A><TT>/etc/smrsh</TT>.  This is probably the case if you are using Linux RedHat.

<P>
</LI>
<LI><A NAME="5220"></A><TT>- - with-sbindir=DIR</TT>, system admin executables in DIR (default /home/sympa/bin)

<P>
</LI>
<LI><A NAME="5223"></A><TT>- - with-libexecdir=DIR</TT>, program executables in DIR (default /home/sympa/bin)

<P>
</LI>
<LI><A NAME="5226"></A><TT>- - with-cgidir=DIR</TT>, CGI programs in DIR (default /home/sympa/bin)

<P>
</LI>
<LI><A NAME="5229"></A><TT>- - with-iconsdir=DIR</TT>, web interface icons in DIR (default /home/httpd/icons)

<P>
</LI>
<LI><A NAME="5232"></A><TT>- - with-datadir=DIR</TT>, default configuration data in DIR (default /home/sympa/bin/etc)

<P>
</LI>
<LI><A NAME="5235"></A><TT>- - with-confdir=DIR</TT>, Sympa main configuration files in DIR (default /etc)
<BR><A NAME="5238"></A><TT>sympa.conf</TT> and <A NAME="5241"></A><TT>wwsympa.conf</TT> will be installed there.

<P>
</LI>
<LI><A NAME="5244"></A><TT>- - with-exlpdir=DIR</TT>, modifiable data in DIR (default /home/sympa/expl/)

<P>
</LI>
<LI><A NAME="5247"></A><TT>- - with-libdir=DIR</TT>,  code libraries in DIR (default /home/sympa/bin/)

<P>
</LI>
<LI><A NAME="5250"></A><TT>- - with-mandir=DIR</TT>, man documentation in DIR (default /usr/local/man/)

<P>
</LI>
<LI><A NAME="5253"></A><TT>- - with-docdir=DIR</TT>, man files in DIR (default /home/sympa/doc/)

<P>
</LI>
<LI><A NAME="5256"></A><TT>- - with-initdir=DIR</TT>, install System V init script in DIR  (default /etc/rc.d/init.d)

<P>
</LI>
<LI><A NAME="5259"></A><TT>- - with-lockdir=DIR</TT>, create lock files in DIR  (default /var/lock/subsys)

<P>
</LI>
<LI><A NAME="5262"></A><TT>- - with-piddir=DIR</TT>, create .pid files in DIR  (default /home/sympa/)

<P>
</LI>
<LI><A NAME="5265"></A><TT>- - with-etcdir=DIR</TT>, Config directories populated by the user are in DIR (default /home/sympa/etc)

<P>
</LI>
<LI><A NAME="5268"></A><TT>- - with-localedir=DIR</TT>, create language files in DIR (default /home/sympa/locale)

<P>
</LI>
<LI><A NAME="5271"></A><TT>- - with-scriptdir=DIR</TT>, create script files in DIR (default /home/sympa/script)

<P>
</LI>
<LI><A NAME="5274"></A><TT>- - with-sampledir=DIR</TT>, create sample files in DIR (default /home/sympa/sample)

<P>
</LI>
<LI><A NAME="5277"></A><TT>- - with-spooldir=DIR</TT>, create directory in DIR (default /home/sympa/spool)

<P>
</LI>
<LI><A NAME="5280"></A><TT>- - with-perl=FULLPATH</TT>, set full path to Perl interpreter (default /usr/bin/perl)

<P>
</LI>
<LI><A NAME="5283"></A><TT>- - with-openssl=FULLPATH</TT>, set path to OpenSSL (default /usr/local/ssl/bin/openssl)

<P>
</LI>
<LI><A NAME="5286"></A><TT>- - with-user=LOGIN</TT>, set sympa user name (default sympa)
<BR><I>Sympa</I> daemons are running under this UID.

<P>
</LI>
<LI><A NAME="5290"></A><TT>- - with-group=LOGIN</TT>, set sympa group name (default sympa)
<BR><I>Sympa</I> daemons are running under this UID.

<P>
</LI>
<LI><A NAME="5294"></A><TT>- - with-sendmail_aliases=ALIASFILE</TT>, set aliases file to be used by Sympa (default /etc/mail/sympa_aliases). (You can overright this value at runtime giving its value in <A NAME="5297"></A><TT>sympa.conf</TT>)
<BR>
<P>
</LI>
<LI><A NAME="5300"></A><TT>- - with-virtual_aliases=ALIASFILE</TT>, set postfix virtual file to be used by Sympa (default /etc/mail/sympa_virtual)
<BR>
<P>
This is used by the <A NAME="5303"></A><TT>alias_manager.pl</TT> script :

<P>
</LI>
<LI><A NAME="5306"></A><TT>- - with-newaliases=FULLPATH</TT>, set path to sendmail newaliases command (default /usr/bin/newaliases)

<P>
</LI>
<LI><A NAME="5309"></A><TT>- - with-newaliases_arg=ARGS</TT>, set arguments to newaliases command (default NONE)

<P>
This is used by the <A NAME="5312"></A><TT>postfix_manager.pl</TT> script :

<P>
</LI>
<LI><A NAME="5315"></A><TT>- - with-postmap=FULLPATH</TT>, set path to postfix postmap command (default /usr/sbin/postmap)

<P>
</LI>
<LI><A NAME="5318"></A><TT>- - with-postmap_arg=ARGS</TT>, set arguments to postfix postmap command (default NONE)

<P>
</LI>
</UL>

<P>
<A NAME="5321"></A><TT>make</TT> will build a few binaries (<A NAME="5324"></A><TT>queue</TT>, <A NAME="5327"></A><TT>bouncequeue</TT> and <A NAME="5330"></A><TT>aliaswrapper</TT>)
and help you install required CPAN modules.

<P>
<A NAME="5333"></A><TT>make install</TT> does the installation job. It it recognizes the following option :

<P>

<UL>
<LI>DESTDIR, can be set in the main Makefile to install sympa in DESTDIR/DIR
(instead of DIR). This is useful for building RPM and DEB packages.

<P>
</LI>
</UL>

<P>
Since version 3.3 of Sympa colors are <A NAME="5336"></A><TT>sympa.conf</TT> parameters (see
<A HREF="node7.html#colors">6.1.10</A>,  page&nbsp;<A HREF="node7.html#colors"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>)

<P>
If everything goes smoothly, the <A NAME="5339"></A><TT>~sympa/bin/</TT> directory
will contain various PERL programs as well as the <A NAME="5344"></A><TT>queue</TT>
binary.  You will remark that this binary has the <A NAME="518"></A> <I>set-uid-on-exec</I> bit set (owner is the <TT>sympa</TT>
user): this is deliberate, and indispensable if <I>Sympa</I> is to run correctly.

<P>

<H2><A NAME="SECTION00431000000000000000">
3.3.1 Choosing directory locations</A>
</H2>

<P>
All directories are defined in the <A NAME="5348"></A><TT>/etc/sympa.conf</TT> file, which
is read by <I>Sympa</I> at runtime. If no <A NAME="5352"></A><TT>sympa.conf</TT> file
was found during installation, a sample one will be created.
For the default organization of directories, please refer to <A HREF="node3.html#organization">2.1</A>, 
page&nbsp;<A HREF="node3.html#organization"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.

<P>
It would, of course, be possible to disperse files and directories to a number of different
locations. However, we recommend storing all the directories and files in  the <TT>sympa</TT>
user's login directory.

<P>
These directories must be created manually now. You can use restrictive
authorizations if you like, since only programs running with the
<TT>sympa</TT> account will need to access them.

<P>

<H1><A NAME="SECTION00440000000000000000">
3.4 Robot aliases</A>
</H1>

<P>
See Robot aliases , <A HREF="node6.html#robot-aliases">5.1</A>,
page&nbsp;<A HREF="node6.html#robot-aliases"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>)

<P>

<H1><A NAME="SECTION00450000000000000000">
3.5 Logs</A>
</H1>

<P>
<I>Sympa</I> keeps a trace of each of its procedures in its log file.
However, this requires configuration of the <A NAME="5356"></A><TT>syslogd</TT>
daemon.  By default <I>Sympa</I> will use the <TT>local1</TT> facility
(<A NAME="5360"></A><TT>syslog</TT> parameter in <A NAME="5363"></A><TT>sympa.conf</TT>).
WWSympa's logging behaviour is defined by the <A NAME="5366"></A><TT>log_facility</TT>
parameter in <A NAME="5369"></A><TT>wwsympa.conf</TT> (by default the same facility as <I>Sympa</I>).
<BR>
To this end, a line must be added in the <A NAME="5373"></A><TT>syslogd</TT> configuration file (<A NAME="5376"></A><TT>/etc/syslog.conf</TT>). For example:

<P><PRE>
local1.*       /var/log/sympa
</PRE>

<P>
Then reload <A NAME="5379"></A><TT>syslogd</TT>.

<P>
Depending on your platform, your syslog daemon may use either
a UDP or a UNIX socket. <I>Sympa</I>'s default is to use a UNIX socket;
you may change this behavior by editing <A NAME="5383"></A><TT>sympa.conf</TT>'s
<A NAME="5386"></A><TT>log_socket_type</TT> parameter (<A HREF="node7.html#par-log-socket-type">6.3.3</A>,
page&nbsp;<A HREF="node7.html#par-log-socket-type"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>). You can test log feature by
using  <A NAME="5389"></A><TT>testlogs.pl</TT>.

<P>

<H1><A NAME="SECTION00460000000000000000"></A>
<A NAME="init"></A>
<BR>
3.6 INIT script
</H1>

<P>
The <A NAME="5392"></A><TT>make install</TT> step should have installed a <A NAME="5395"></A><TT>sympa</TT> init script in
your <A NAME="5398"></A><TT>/etc/rc.d/init.d/</TT> directory (you can change this at <A NAME="5401"></A><TT>configure</TT>
time with the <A NAME="5404"></A><TT>- - with-initdir</TT> option). You should edit your runlevels to make
sure <I>Sympa</I> starts after Apache and MySQL. Note that <A NAME="5408"></A>MySQL should
also start before <A NAME="5409"></A>Apache because of <A NAME="5410"></A><TT>wwsympa.fcgi</TT>.

<P>

<H1><A NAME="SECTION00470000000000000000"></A>
<A NAME="sympa.pl"></A>
<BR>
3.7 sympa.pl
</H1>

<P>
<A NAME="5413"></A><TT>sympa.pl</TT> is the main daemon ; it processes mail commands and is in charge of
messages distribution.

<P>
<A NAME="5416"></A><TT>sympa.pl</TT> recognizes the following command line arguments:

<P>

<UL>
<LI><A NAME="5419"></A><TT>- - debug</TT> | <A NAME="5422"></A><TT>-d</TT> 

<P>
Sets <I>Sympa</I> in debug mode and keeps it attached to the terminal. 
  Debugging information is output to STDERR, along with standard log
  information. Each function call is traced. Useful while reporting
  a bug.

<P>
</LI>
<LI><A NAME="5426"></A><TT>service</TT>  <I>process_command</I> | <I>process_message</I>

<P>
Sets <I>Sympa</I> daemon in way it process only message distribution (process_message) or in way it process only command (process_command).

<P>
</LI>
<LI><A NAME="5439"></A><TT>- - config <I>config_file</I></TT> | <A NAME="5454"></A><TT>-f <I>config_file</I></TT>

<P>
Forces <I>Sympa</I> to use an alternative configuration file. Default behavior is
  to use the configuration file as defined in the Makefile ($CONFIG).

<P>
</LI>
<LI><A NAME="5461"></A><TT>- - mail</TT> | <A NAME="5464"></A><TT>-m</TT> 

<P>
<I>Sympa</I> will log calls to sendmail, including recipients. Useful for
  keeping track of each mail sent (log files may grow faster though).

<P>
</LI>
<LI><A NAME="5477"></A><TT>- - lang <I>catalog</I></TT> | <A NAME="5492"></A><TT>-l <I>catalog</I></TT>

<P>
Set this option to use a language catalog for <I>Sympa</I>. 
  The corresponding catalog file must be located in <A NAME="5499"></A><TT>~sympa/locale</TT>
  directory. 

<P>
</LI>
<LI><A NAME="5513"></A><TT>- - keepcopy <I>recipient_directory</I></TT> | <A NAME="5528"></A><TT>-k <I>recipient_directory</I></TT>

<P>
This option tells Sympa to keep a copy of every incoming message,
  instead of deleting them. <I>recipient_directory</I> is the directory
  to store messages.

<P><PRE>
/home/sympa/bin/sympa.pl
</PRE>

<P>
</LI>
<LI><A NAME="5546"></A><TT>- - create_list - - robot <I>robotname</I> - - input_file <I>list_file.xml</I></TT>

<P>
Create the list described by the xml file, see <A HREF="node17.html#list-creation-sympa">16.3</A>, 
page&nbsp;<A HREF="node17.html#list-creation-sympa"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.

<P>
</LI>
<LI><A NAME="5564"></A><TT>- - close_list <I>listname@robot</I></TT>

<P>
Close the list (changing its status to closed), remove aliases and remove
subscribers from DB (a dump is created in the list directory to allow restoring
the list). See <A HREF="#family-close-list"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>, page&nbsp;<A HREF="#family-close-list"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A> when you
are in a family context.

<P>
</LI>
<LI><A NAME="5582"></A><TT>- - dump <I>listname <TT>|</TT> ALL</I></TT>

<P>
Dumps subscribers of a list or all lists. Subscribers are dumped
  in <A NAME="5591"></A><TT>subscribers.db.dump</TT>.

<P>
</LI>
<LI><A NAME="5603"></A><TT>- - import <I>listname</I></TT>

<P>
Import subscribers in the <I>listname</I> list. Data are read from STDIN.

<P>
</LI>
<LI><A NAME="5609"></A><TT>- - lowercase</TT>

<P>
Lowercases e-mail addresses in database.

<P>
</LI>
<LI><A NAME="5612"></A><TT>- - help</TT> | <A NAME="5615"></A><TT>-h</TT>

<P>
Print usage of sympa.pl.

<P>
</LI>
<LI><A NAME="5618"></A><TT>- - make_alias_file</TT>

<P>
Create an aliases file in /tmp/ with all list aliases (only list which status is 'open'). It uses the list_aliases.tt2
template.

<P>
</LI>
<LI><A NAME="5621"></A><TT>- - version</TT> | <A NAME="5624"></A><TT>-v</TT>

<P>
Print current version of <I>Sympa</I>.

<P>
</LI>
<LI><A NAME="5643"></A><TT>- - instanciate_family <I>familyname</I> <I>robotname</I> - - input_file <I>family_file.xml</I></TT>

<P>
Instantiate the family <I>familyname</I>. See <A HREF="node18.html#lists-families">17</A>, 
page&nbsp;<A HREF="node18.html#lists-families"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.

<P>
</LI>
<LI><A NAME="5667"></A><TT>- - close_family <I>familyname</I> - - robot <I>robotname</I></TT>

<P>
Close the <I>familyname</I> family. See <A HREF="node18.html#family-closure">17.2.4</A>, 
   page&nbsp;<A HREF="node18.html#family-closure"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.

<P>
</LI>
<LI><A NAME="5691"></A><TT>- - add_list <I>familyname</I> - - robot <I>robotname</I> - - input_file <I>list_file.xml</I></TT>

<P>
Add the list described in the XML file to the <I>familyname</I> family. See <A HREF="node18.html#family-add-list">17.2.5</A>, 
   page&nbsp;<A HREF="node18.html#family-add-list"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.

<P>
</LI>
<LI><A NAME="5718"></A><TT>- - modify_list <I>familyname</I> - - robot <I>robotname</I> - - input_file <I>list_file.xml</I></TT>

<P>
Modify the existing family list, with description contained in the XML file. See <A HREF="node18.html#family-modify-list">17.2.7</A>, 
   page&nbsp;<A HREF="node18.html#family-modify-list"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.

<P>
</LI>
</UL>

<P>

<HR>
<!--Navigation Panel-->
<A NAME="tex2html723"
  HREF="node5.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html717"
  HREF="sympa.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html711"
  HREF="node3.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html719"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html721"
  HREF="node26.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html724"
  HREF="node5.html">4. Upgrading Sympa</A>
<B> Up:</B> <A NAME="tex2html718"
  HREF="sympa.html">Sympa Mailing Lists Management Software version</A>
<B> Previous:</B> <A NAME="tex2html712"
  HREF="node3.html">2. what does Sympa consist of</A>
 &nbsp; <B>  <A NAME="tex2html720"
  HREF="node1.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html722"
  HREF="node26.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
root
2005-06-15
</ADDRESS>
</BODY>
</HTML>
