<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 3.2 Final//EN">

<!--Converted with jLaTeX2HTML 2002-2-1 (1.70) JA patch-2.0
patched version by:  Kenshi Muto, Debian Project.
* modified by:  Shige TAKENO
LaTeX2HTML 2002-2-1 (1.70),
original version by:  Nikos Drakos, CBLU, University of Leeds
* revised and updated by:  Marcus Hennecke, Ross Moore, Herb Swan
* with significant contributions from:
  Jens Lippmann, Marek Rouchal, Martin Wilck and others -->
<HTML>
<HEAD>
<TITLE>15. Mailing list definition</TITLE>
<META NAME="description" CONTENT="15. Mailing list definition">
<META NAME="keywords" CONTENT="sympa">
<META NAME="resource-type" CONTENT="document">
<META NAME="distribution" CONTENT="global">

<META HTTP-EQUIV="Content-Type" CONTENT="text/html; charset=iso-8859-1">
<META NAME="Generator" CONTENT="jLaTeX2HTML v2002-2-1 JA patch-2.0">
<META HTTP-EQUIV="Content-Style-Type" CONTENT="text/css">

<LINK REL="STYLESHEET" HREF="sympa.css">

<LINK REL="next" HREF="node17.html">
<LINK REL="previous" HREF="node15.html">
<LINK REL="up" HREF="sympa.html">
<LINK REL="next" HREF="node17.html">
</HEAD>

<BODY TEXT="#000000" BGCOLOR="#ffffff">
<!--Navigation Panel-->
<A NAME="tex2html1114"
  HREF="node17.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html1108"
  HREF="sympa.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html1102"
  HREF="node15.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html1110"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html1112"
  HREF="node26.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1115"
  HREF="node17.html">16. List creation, families and list</A>
<B> Up:</B> <A NAME="tex2html1109"
  HREF="sympa.html">Sympa Mailing Lists Management Software version</A>
<B> Previous:</B> <A NAME="tex2html1103"
  HREF="node15.html">14. Customizing Sympa/WWSympa</A>
 &nbsp; <B>  <A NAME="tex2html1111"
  HREF="node1.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html1113"
  HREF="node26.html">Index</A></B> 
<BR>
<BR>
<!--End of Navigation Panel-->
<!--Table of Child-Links-->
<A NAME="CHILD_LINKS"><STRONG>Subsections</STRONG></A>

<UL>
<LI><A NAME="tex2html1116"
  HREF="node16.html#SECTION001610000000000000000">15.1 Mail aliases</A>
<LI><A NAME="tex2html1117"
  HREF="node16.html#SECTION001620000000000000000">15.2 List configuration file</A>
<LI><A NAME="tex2html1118"
  HREF="node16.html#SECTION001630000000000000000">15.3 Examples of configuration files</A>
<LI><A NAME="tex2html1119"
  HREF="node16.html#SECTION001640000000000000000">15.4 Subscribers file</A>
<LI><A NAME="tex2html1120"
  HREF="node16.html#SECTION001650000000000000000">15.5 Info file</A>
<LI><A NAME="tex2html1121"
  HREF="node16.html#SECTION001660000000000000000">15.6 Homepage file</A>
<LI><A NAME="tex2html1122"
  HREF="node16.html#SECTION001670000000000000000">15.7 Data inclusion file</A>
<LI><A NAME="tex2html1123"
  HREF="node16.html#SECTION001680000000000000000">15.8 List template files</A>
<UL>
<LI><A NAME="tex2html1124"
  HREF="node16.html#SECTION001681000000000000000">15.8.1 welcome.tt2</A>
<LI><A NAME="tex2html1125"
  HREF="node16.html#SECTION001682000000000000000">15.8.2 bye.tt2</A>
<LI><A NAME="tex2html1126"
  HREF="node16.html#SECTION001683000000000000000">15.8.3 removed.tt2</A>
<LI><A NAME="tex2html1127"
  HREF="node16.html#SECTION001684000000000000000">15.8.4 reject.tt2</A>
<LI><A NAME="tex2html1128"
  HREF="node16.html#SECTION001685000000000000000">15.8.5 invite.tt2</A>
<LI><A NAME="tex2html1129"
  HREF="node16.html#SECTION001686000000000000000">15.8.6 remind.tt2</A>
<LI><A NAME="tex2html1130"
  HREF="node16.html#SECTION001687000000000000000">15.8.7 summary.tt2</A>
<LI><A NAME="tex2html1131"
  HREF="node16.html#SECTION001688000000000000000">15.8.8 list_aliases.tt2</A>
</UL>
<BR>
<LI><A NAME="tex2html1132"
  HREF="node16.html#SECTION001690000000000000000">15.9 Stats file</A>
<LI><A NAME="tex2html1133"
  HREF="node16.html#SECTION0016100000000000000000">15.10 List model files</A>
<UL>
<LI><A NAME="tex2html1134"
  HREF="node16.html#SECTION0016101000000000000000">15.10.1 remind.annual.task</A>
<LI><A NAME="tex2html1135"
  HREF="node16.html#SECTION0016102000000000000000">15.10.2 expire.annual.task</A>
</UL>
<BR>
<LI><A NAME="tex2html1136"
  HREF="node16.html#SECTION0016110000000000000000">15.11 Message header and footer</A>
<UL>
<LI><A NAME="tex2html1137"
  HREF="node16.html#SECTION0016111000000000000000">15.11.1 Archive directory</A>
</UL></UL>
<!--End of Table of Child-Links-->
<HR>

<H1><A NAME="SECTION001600000000000000000"></A>
    <A NAME="ml-creation"></A>
<BR>
15. Mailing list definition
</H1>

<P>
This chapter describes what a mailing list is made of within Sympa environment.

<P>

<H1><A NAME="SECTION001610000000000000000"></A>
    <A NAME="list-aliases"></A>    <A NAME="2205"></A>
    <A NAME="2206"></A>
<BR>
15.1 Mail aliases
</H1>

<P>
See list aliases section, <A HREF="#list-aliases">15.1</A>,
page&nbsp;<A HREF="node16.html#list-aliases"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>)

<P>

<H1><A NAME="SECTION001620000000000000000"></A>
    <A NAME="exp-config"></A>
<BR>
15.2 List configuration file
</H1>

<P>
The configuration file for the <TT>mylist</TT> list is named
<A NAME="7830"></A><TT>/usr/local/sympa-os//expl/my.domain.org/mylist/config</TT> 
(or <A NAME="7833"></A><TT>/usr/local/sympa-os//expl/mylist/config</TT> if no virtual robot is defined). 
<I>Sympa</I> reads it into memory the first time the list is refered to. This file is not rewritten by 
<I>Sympa</I>, so you may put comment lines in it. 
It is possible to change this file when the program is running. 
Changes are taken into account the next time the list is
accessed. Be careful to provide read access for <I>Sympa</I> user to this file !

<P>
You will find a few configuration files in the <A NAME="7839"></A><TT>sample</TT> directory. 

<P>
List configuration parameters are described in the list creation section, <A HREF="node19.html#list-configuration-param">18</A>, page&nbsp;<A HREF="node19.html#list-configuration-param"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.

<P>

<H1><A NAME="SECTION001630000000000000000">
15.3 Examples of configuration files</A>
</H1>

<P>
This first example is for a list open to everyone:

<P><PRE>
subject First example (an open list)

visibility noconceal

owner
email Pierre.David@prism.uvsq.fr

send public

review public
</PRE>

<P>
The second example is for a moderated list with authenticated subscription:
<A NAME="2222"></A>
<A NAME="2223"></A>

<P><PRE>
subject Second example (a moderated list)

visibility noconceal

owner
email moi@ici.fr

editor
email big.prof@ailleurs.edu

send editor

subscribe auth

review owner

reply_to_header
value list

cookie 142cleliste
</PRE>

<P>
The third example is for a moderated list, with subscription
controlled by the owner, and running in digest mode. Subscribers
who are in <A NAME="7842"></A>digest mode receive messages on Mondays and
Thursdays.

<P><PRE>
owner
email moi@ici.fr

editor
email prof@ailleurs.edu

send editor

subscribe owner

review owner

reply_to_header
value list

digest 1,4 12:00
</PRE>

<P>

<H1><A NAME="SECTION001640000000000000000"></A>
    <A NAME="file-subscribers"></A>    <A NAME="2235"></A>
<BR>
15.4 Subscribers file
</H1>

<P>
<B>Be carefull</B>: Since version 3.3.6 of <I>Sympa</I>, a RDBMS is required for internal data storage. Flat file should
not be use anymore except for testing purpose. <I>Sympa</I> will not use this file if the list is configured
with <TT>include</TT> or <TT>database</TT> <A NAME="7845"></A><TT>user_data_source</TT>.

<P>
The <A NAME="7848"></A><TT>/usr/local/sympa-os//expl/mylist/subscribers</TT> file is automatically created and
populated. It contains information about list
subscribers.  It is not advisable to edit this file.  Main parameters
are:

<P>

<UL>
<LI><A NAME="7851"></A><TT>email</TT> <I>address</I>

<P>
E-mail address of subscriber.

<P>
</LI>
<LI><A NAME="7854"></A><TT>gecos</TT> <I>data</I> 

<P>
Information about subscriber (last name, first name,
        etc.) This parameter is optional at subscription time.

<P>
</LI>
<LI><A NAME="7857"></A><TT>reception</TT>
            <TT>nomail</TT> <TT>|</TT>
            <TT>digest</TT> <TT>|</TT>
            <TT>summary</TT> <TT>|</TT>
            <TT>notice</TT> <TT>|</TT>
 	    <TT>txt</TT> <TT>|</TT>
	    <TT>html</TT> <TT>|</TT>
 	    <TT>urlize</TT> <TT>|</TT>
	    <TT>not_me</TT> <TT>|</TT>
        <A NAME="par-reception"></A> 

<P>
Special receive modes which the subscriber may select.
        Special modes can be either <I>nomail</I>,  <I>digest</I>, <I>summary</I>, <I>notice</I>, <I>txt</I>,
        <I>html</I>, <I>urlize</I>, <I>not_me</I> .
        In normal receive mode, the receive attribute
        for a subscriber is not displayed.  See the <A NAME="7860"></A><TT>SET&nbsp;LISTNAME&nbsp;SUMMARY</TT> (<A HREF="node25.html#cmd-setsummary">24.1</A>, 
        page&nbsp;<A HREF="node25.html#cmd-setsummary"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>),
        the <A NAME="7863"></A><TT>SET&nbsp;LISTNAME&nbsp;NOMAIL</TT> command (<A HREF="node25.html#cmd-setnomail">24.1</A>,
        page&nbsp;<A HREF="node25.html#cmd-setnomail"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>), and the <A NAME="7866"></A><TT>digest</TT>
        parameter (<A HREF="node19.html#par-digest">18.4.8</A>, page&nbsp;<A HREF="node19.html#par-digest"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>).

<P>
</LI>
<LI><A NAME="7869"></A><TT>visibility</TT> <TT>conceal</TT>  
        <A NAME="par-visibility-conceal"></A>
<P>
Special mode which allows the subscriber to remain invisible when
        a <A NAME="7872"></A><TT>REVIEW</TT> command is issued for the list.  If this
        parameter is not declared, the subscriber will be visible
        for <A NAME="7875"></A><TT>REVIEW</TT>.  Note: this option does not affect
        the results of a <A NAME="7878"></A><TT>REVIEW</TT> command issued by an
        owner.  See the <A NAME="7881"></A><TT>SET&nbsp;LISTNAME&nbsp;MAIL</TT> command (<A HREF="node25.html#cmd-setconceal">24.1</A>, page&nbsp;<A HREF="node25.html#cmd-setconceal"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>) for
        details.

<P>
</LI>
</UL>

<P>

<H1><A NAME="SECTION001650000000000000000">
15.5 Info file</A>
</H1>

<P>
<A NAME="7884"></A><TT>/usr/local/sympa-os//expl/mylist/info</TT> should contain a detailed text
description of the list, to be displayed by the <A NAME="7887"></A><TT>INFO</TT> command. 
It can also be referenced from template files for service messages.

<P>

<H1><A NAME="SECTION001660000000000000000">
15.6 Homepage file</A>
</H1>

<P>
<A NAME="7890"></A><TT>/usr/local/sympa-os//expl/mylist/homepage</TT> is the HTML text 
on the <A NAME="7893"></A><I>WWSympa</I> info page for the list.

<P>

<H1><A NAME="SECTION001670000000000000000"></A>
<A NAME="data-inclusion-file"></A><A NAME="2298"></A>
<BR>
15.7 Data inclusion file
</H1>

<P>
Sympa will use these files only if the list is configured in <TT>include2</TT> <A NAME="7896"></A><TT>user_data_source</TT> mode.
Every file has the .incl extension. 
More over, these files must be declared in paragraphs <A NAME="7899"></A><TT>owner_include</TT> or <A NAME="7902"></A><TT>editor_inlude</TT> in the list configuration file 
without the .incl extension (see <A HREF="node19.html#list-configuration-param">18</A>, page&nbsp;<A HREF="node19.html#list-configuration-param"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>).
This files can be template file.

<P>
Sympa looks for them in the following order :

<OL>
<LI><A NAME="7917"></A><TT>/usr/local/sympa-os//expl/mylist/data_sources/<TT>&lt;</TT>file<TT>&gt;</TT>.incl</TT>. 
</LI>
<LI><A NAME="7938"></A><TT>/usr/local/sympa-os//etc/data_sources/<TT>&lt;</TT>file<TT>&gt;</TT>.incl</TT>. 
</LI>
<LI><A NAME="7959"></A><TT>/usr/local/sympa-os//etc/my.domain.org/data_sources/<TT>&lt;</TT>file<TT>&gt;</TT>.incl</TT>.
</LI>
</OL> 

<P>
These files are used by Sympa to load administrative data in a relational database :
Owners or editors are defined <I>intensively</I> (definition of criteria owners or editors must satisfy).  
Includes can be performed by extracting e-mail addresses using an <A NAME="7968"></A>SQL or <A NAME="7969"></A>LDAP query, or 
by including other mailing lists.

<P>
A data inclusion file is composed of paragraphs separated by blank lines and introduced by a keyword.
Valid paragraphs are <A NAME="7970"></A><TT>include_file</TT>, <A NAME="7973"></A><TT>include_list</TT>, <A NAME="7976"></A><TT>include_remote_sympa_list</TT>, 
<A NAME="7979"></A><TT>include_sql_query</TT> and <A NAME="7982"></A><TT>include_ldap_query</TT>. They are described in the list configuration parameters chapitre, <A HREF="node19.html#list-configuration-param">18</A>, page&nbsp;<A HREF="node19.html#list-configuration-param"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.

<P>
When this file is a template, used variables are array elements (<A NAME="7985"></A><TT>param</TT> array). This array is instantiated by values contained in the subparameter 
<A NAME="7988"></A><TT>source_parameter</TT> of <A NAME="7991"></A><TT>owner_include</TT> or <A NAME="7994"></A><TT>editor_inlude</TT>.

<P>
<I>Example :</I> 

<P>

<UL>
<LI>in the list configuration file :

<P><PRE>
	owner_include
	source myfile
	source_parameters mysql,rennes1,stduser,mysecret,studentbody,student
</PRE>

<P>
</LI>
<LI>in myfile.incl :

<P><PRE>
	include_sql_query
	db_type [% param.0 %]
	host sqlserv.admin.univ-[% param.1 %].fr
	user [% param.2 %]
	passwd [% param.3 %]
        db_name [% param.4 %]
	sql_query SELECT DISTINCT email FROM [% param.5 %]
      </PRE>

<P>
</LI>
<LI>resulting data inclusion file :

<P><PRE>
	include_sql_query
	db_type mysql
	host sqlserv.admin.univ-rennes1.fr
        user stduser
        passwd mysecret
        db_name studentbody
        sql_query SELECT DISTINCT email FROM student
</PRE>

<P>
</LI>
</UL>          

<P>

<H1><A NAME="SECTION001680000000000000000"></A>
<A NAME="list-tpl"></A><A NAME="2344"></A>
<BR>
15.8 List template files
</H1>

<P>
These files are used by Sympa as service messages for commands such as
<A NAME="7997"></A><TT>SUB</TT>, <A NAME="8000"></A><TT>ADD</TT>, <A NAME="8003"></A><TT>SIG</TT>, <A NAME="8006"></A><TT>DEL</TT>, <A NAME="8009"></A><TT>REJECT</TT>. 
These files are interpreted (parsed) by <I>Sympa</I> and respect the template 
format ; every file has the .tt2 extension. See <A HREF="node15.html#tpl-format">14.1</A>, 
page&nbsp;<A HREF="node15.html#tpl-format"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>. 

<P>
Sympa looks for these files in the following order :

<OL>
<LI><A NAME="8025"></A><TT>/usr/local/sympa-os//expl/mylist/mail_tt2/<TT>&lt;</TT>file<TT>&gt;</TT>.tt2</TT> 
</LI>
<LI><A NAME="8046"></A><TT>/usr/local/sympa-os//etc/mail_tt2/<TT>&lt;</TT>file<TT>&gt;</TT>.tt2</TT>. 
</LI>
<LI><A NAME="8067"></A><TT>/usr/local/sympa-os//bin/etc/mail_tt2/<TT>&lt;</TT>file<TT>&gt;</TT>.tt2</TT>.
</LI>
</OL>

<P>
If the file starts with a From: line, it is taken to be
a full message and will be sent (after parsing) without the addition of SMTP
headers. Otherwise the file is treated as a text/plain message body.

<P>
The following variables may be used in list template files :

<P>
<DL COMPACT>
<DT>-</DT>
<DD>[% conf.email %] : sympa e-mail address local part

<P>
</DD>
<DT>-</DT>
<DD>[% conf.domain %] : sympa robot domain name

<P>
</DD>
<DT>-</DT>
<DD>[% conf.sympa %] : sympa's complete e-mail address

<P>
</DD>
<DT>-</DT>
<DD>[% conf.wwsympa_url %] : <A NAME="8076"></A><I>WWSympa</I> root URL

<P>
</DD>
<DT>-</DT>
<DD>[% conf.listmaster %] : listmaster e-mail addresses

<P>
</DD>
<DT>-</DT>
<DD>[% list.name %] : list name

<P>
</DD>
<DT>-</DT>
<DD>[% list.host %] : list hostname (default is sympa robot domain name)

<P>
</DD>
<DT>-</DT>
<DD>[% list.lang %] : list language

<P>
</DD>
<DT>-</DT>
<DD>[% list.subject %] : list subject

<P>
</DD>
<DT>-</DT>
<DD>[% list.owner %] : list owners table hash

<P>
</DD>
<DT>-</DT>
<DD>[% user.email %] : user e-mail address

<P>
</DD>
<DT>-</DT>
<DD>[% user.gecos %] : user gecos field (usually his/her name)

<P>
</DD>
<DT>-</DT>
<DD>[% user.password %] : user password

<P>
</DD>
<DT>-</DT>
<DD>[% user.lang %] : user language

<P>
</DD>
<DT>-</DT>
<DD>[% execution_date %] : the date when the scenario is executed	
</DD>
</DL>

<P>
You may also dynamically include a file from a template using the
[% INSERT %] directive.

<P>
<I>Example:</I> 

<P><PRE>
Dear [% user.email %],

Welcome to list [% list.name %]@[% list.host %].

Presentation of the list :
[% INSERT 'info' %]

The owners of [% list.name %] are :
[% FOREACH ow = list.owner %]
   [% ow.value.gecos %] &lt;[% ow.value.email %]&gt;
[% END %]
</PRE>

<P>

<H2><A NAME="SECTION001681000000000000000">
15.8.1 welcome.tt2</A>
</H2> 

<P>
<I>Sympa</I> will send a welcome message for every subscription. The welcome 
message can be customized for each list.

<P>

<H2><A NAME="SECTION001682000000000000000">
15.8.2 bye.tt2</A>
</H2> 

<P>
Sympa will send a farewell message for each SIGNOFF 
mail command received.

<P>

<H2><A NAME="SECTION001683000000000000000">
15.8.3 removed.tt2</A>
</H2> 

<P>
This message is sent to users who have been deleted (using the <A NAME="8080"></A><TT>DELETE</TT> 
command) from the list by the list owner.

<P>

<H2><A NAME="SECTION001684000000000000000">
15.8.4 reject.tt2</A>
</H2> 

<P>
<I>Sympa</I> will send a reject message to the senders of messages rejected
by the list editor. If the editor prefixes her <A NAME="8084"></A><TT>REJECT</TT> with the
keyword QUIET, the reject message will not be sent.

<P>

<H2><A NAME="SECTION001685000000000000000">
15.8.5 invite.tt2</A>
</H2> 

<P>
This message is sent to users who have been invited (using the <A NAME="8087"></A><TT>INVITE</TT> 
command) to subscribe to a list. 

<P>
You may use additional variables
<DL COMPACT>
<DT>-</DT>
<DD>[% requested_by %] : e-mail of the person who sent the 
		<A NAME="8090"></A><TT>INVITE</TT> command

<P>
</DD>
<DT>-</DT>
<DD>[% url %] : the mailto: URL to subscribe to the list

<P>
</DD>
</DL>

<P>

<H2><A NAME="SECTION001686000000000000000">
15.8.6 remind.tt2</A>
</H2>

<P>
This file contains a message sent to each subscriber
when one of the list owners sends the <A NAME="8093"></A><TT>REMIND</TT> command
 (see&nbsp;<A HREF="node25.html#cmd-remind">24.2</A>, page&nbsp;<A HREF="node25.html#cmd-remind"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>).

<P>

<H2><A NAME="SECTION001687000000000000000">
15.8.7 summary.tt2</A>
</H2>

<P>
Template for summaries (reception mode close to digest), 
see&nbsp;<A HREF="node25.html#cmd-setsummary">24.1</A>, page&nbsp;<A HREF="node25.html#cmd-setsummary"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.

<P>

<H2><A NAME="SECTION001688000000000000000"></A>
<A NAME="list-aliases-tpl"></A>
<BR>
15.8.8 list_aliases.tt2
</H2>

<P>
Template that defines list mail alises. It is used by the alias_manager script.

<P>

<H1><A NAME="SECTION001690000000000000000"></A>
    <A NAME="stats-file"></A>    <A NAME="2389"></A>
<BR>
15.9 Stats file
</H1>

<P>
<A NAME="8096"></A><TT>/usr/local/sympa-os//expl/mylist/stats</TT> is a text file containing 
statistics about the list. Data are numerics separated
by white space within a single line :

<P>

<UL>
<LI>Number of messages sent, used to generate X-sequence headers

<P>
</LI>
<LI>Number of messages X number of recipients 

<P>
</LI>
<LI>Number of bytes X number of messages

<P>
</LI>
<LI>Number of bytes X number of messages X number of recipients

<P>
</LI>
<LI>Number of subscribers

<P>
</LI>
<LI>Last update date (epoch format) of the subscribers cache in DB, used by lists in <B>include2</B> mode only

<P>
</LI>
</UL>

<P>

<H1><A NAME="SECTION0016100000000000000000"></A>
<A NAME="Listmodelfiles"></A>
<BR>
15.10 List model files
</H1>

<P>
These files are used by <I>Sympa</I> to create task files. They are interpreted (parsed) 
by the task manager and respect the task format. See <A HREF="node15.html#tasks">14.10</A>, page&nbsp;<A HREF="node15.html#tasks"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>.

<P>

<H2><A NAME="SECTION0016101000000000000000">
15.10.1 remind.annual.task</A>
</H2>

<P>
Every year <I>Sympa</I> will send a message (the template <A NAME="8101"></A><TT>remind.tt2</TT>) 
to all subscribers of the list to remind them of their subscription.

<P>

<H2><A NAME="SECTION0016102000000000000000">
15.10.2 expire.annual.task</A>
</H2>

<P>
Every month <I>Sympa</I> will delete subscribers older than one year who haven't answered two warning messages.

<P>

<H1><A NAME="SECTION0016110000000000000000"></A> 
<A NAME="messagefooter"></A>
<BR>
15.11 Message header and footer
</H1>

<P>
You may create <A NAME="8105"></A><TT>/usr/local/sympa-os//expl/mylist/message.header</TT> and
<A NAME="8108"></A><TT>/usr/local/sympa-os//expl/mylist/message.footer</TT> files. Their content
is added, respectively at the beginning and at the end of each message 
before the distribution process. You may also include the content-type
of the appended part (when <A NAME="8111"></A><TT>footer_type</TT> list parameter s set 
to <B>mime</B>) by renaming the files to <A NAME="8114"></A><TT>message.header.mime</TT> 
and <A NAME="8117"></A><TT>message.footer.mime</TT>.

<P>
The <A NAME="8120"></A><TT>footer_type</TT> list parameter defines whether to attach the 
header/footer content as a MIME part (except for multipart/alternative 
messages), or to append them to the message body (for text/plain messages).

<P>
Under certain circumstances, Sympa will NOT add headers/footers, here is its
algorythm :<PRE>
if message is not multipart/signed 
        if footer_type==append
	        if message is text/plain
		       append header/footer to it
		else if message is multipart AND first part is text/plain
		       append header/footer to first part

        if footer_type==mime
	        if message is not multipart/alternative
		       add header/footer as a new MIME part
</PRE>

<P>

<H2><A NAME="SECTION0016111000000000000000">
15.11.1 Archive directory</A>
</H2> 

<P>
The <A NAME="8123"></A><TT>/usr/local/sympa-os//expl/mylist/archives/</TT> directory contains the 
archived messages for lists which are archived; see <A HREF="node19.html#par-archive">18.6.1</A>, 
page&nbsp;<A HREF="node19.html#par-archive"><IMG  ALIGN="BOTTOM" BORDER="1" ALT="[*]" SRC="crossref.png"></A>. The files are named in accordance with the 
archiving frequency defined by the <A NAME="8126"></A><TT>archive</TT> parameter.

<P>

<HR>
<!--Navigation Panel-->
<A NAME="tex2html1114"
  HREF="node17.html">
<IMG WIDTH="37" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="next" SRC="next.png"></A> 
<A NAME="tex2html1108"
  HREF="sympa.html">
<IMG WIDTH="26" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="up" SRC="up.png"></A> 
<A NAME="tex2html1102"
  HREF="node15.html">
<IMG WIDTH="63" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="previous" SRC="prev.png"></A> 
<A NAME="tex2html1110"
  HREF="node1.html">
<IMG WIDTH="65" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="contents" SRC="contents.png"></A> 
<A NAME="tex2html1112"
  HREF="node26.html">
<IMG WIDTH="43" HEIGHT="24" ALIGN="BOTTOM" BORDER="0" ALT="index" SRC="index.png"></A> 
<BR>
<B> Next:</B> <A NAME="tex2html1115"
  HREF="node17.html">16. List creation, families and list</A>
<B> Up:</B> <A NAME="tex2html1109"
  HREF="sympa.html">Sympa Mailing Lists Management Software version</A>
<B> Previous:</B> <A NAME="tex2html1103"
  HREF="node15.html">14. Customizing Sympa/WWSympa</A>
 &nbsp; <B>  <A NAME="tex2html1111"
  HREF="node1.html">Contents</A></B> 
 &nbsp; <B>  <A NAME="tex2html1113"
  HREF="node26.html">Index</A></B> 
<!--End of Navigation Panel-->
<ADDRESS>
root
2005-06-16
</ADDRESS>
</BODY>
</HTML>
