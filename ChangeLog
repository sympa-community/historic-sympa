------------------------------------------------------------------------
r4429 | david.verdin | 2007-06-04 11:23:05 +0200 (Mon, 04 Jun 2007) | 2 lines
Changed paths:
   M /trunk/po/bg.po
   M /trunk/po/cs.po
   M /trunk/po/de.po
   M /trunk/po/el.po
   M /trunk/po/en_US.po
   M /trunk/po/es.po
   M /trunk/po/et.po
   M /trunk/po/eu.po
   M /trunk/po/fi.po
   M /trunk/po/fr.po
   M /trunk/po/hu.po
   M /trunk/po/it.po
   M /trunk/po/ja.po
   M /trunk/po/nb_NO.po
   M /trunk/po/nl.po
   M /trunk/po/oc.po
   M /trunk/po/pl.po
   M /trunk/po/pt.po
   M /trunk/po/pt_BR.po
   M /trunk/po/ro.po
   M /trunk/po/ru.po
   M /trunk/po/sv.po
   M /trunk/po/sympa.pot
   M /trunk/po/tr.po
   M /trunk/po/zh_CN.po

Updated magyar translation. Also regenerated po files to be sure thay are up-to-date.

------------------------------------------------------------------------
r4428 | david.verdin | 2007-06-04 09:50:48 +0200 (Mon, 04 Jun 2007) | 2 lines
Changed paths:
   M /trunk/INSTALL

[#3110][reported by E. Koblinger, uhulinux.hu] "sympa-static" was used instead of "static-sympa" in the INSTALL file.

------------------------------------------------------------------------
r4427 | david.verdin | 2007-06-04 09:46:35 +0200 (Mon, 04 Jun 2007) | 2 lines
Changed paths:
   M /trunk/web_tt2/main.tt2

[#3108] [reported by E. Koblinger, uhulinux.hu] Inverts order between "<meta charset.../>" and "<title/>" tags in order to prevent misinterpretation of title in case of loading lags.

------------------------------------------------------------------------
r4425 | olivier.salaun | 2007-06-01 17:01:55 +0200 (Fri, 01 Jun 2007) | 2 lines
Changed paths:
   M /trunk/check_perl_modules.pl

[#3107][E.Koblinger, uhulinux] Fix: DBI 1.48 is required by use of selectall_hashref()

------------------------------------------------------------------------
r4420 | olivier.salaun | 2007-05-31 10:34:15 +0200 (Thu, 31 May 2007) | 2 lines
Changed paths:
   M /trunk/doc/Makefile
   D /trunk/doc/auto
   D /trunk/doc/html
   D /trunk/doc/html.sty
   D /trunk/doc/latex2htmlicons
   D /trunk/doc/parse_tex.pl
   D /trunk/doc/pocket.tex
   D /trunk/doc/sympa.ps
   D /trunk/doc/sympa.tex
   D /trunk/doc/sympa.tex.tpl
   D /trunk/doc/treesed

Documentation is now only in PDF format. It is extracted from the sympa.org wiki

------------------------------------------------------------------------
r4417 | david.verdin | 2007-05-30 11:12:59 +0200 (Wed, 30 May 2007) | 2 lines
Changed paths:
   M /trunk/src/Upgrade.pm

Avoiding subscriber vanishing when updating from older Sympa version. Modified version number control to be sure to include any version likely to have neither "included_subscriber" nor "subscribed_subscriber" set.

------------------------------------------------------------------------
r4414 | david.verdin | 2007-05-30 10:27:43 +0200 (Wed, 30 May 2007) | 2 lines
Changed paths:
   M /trunk/doc/sympa.pdf

Updated PDF documentation.

------------------------------------------------------------------------
r4413 | david.verdin | 2007-05-30 09:47:53 +0200 (Wed, 30 May 2007) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/NEWS

Modified infos for version 5.3

------------------------------------------------------------------------
r4412 | olivier.salaun | 2007-05-25 14:41:54 +0200 (Fri, 25 May 2007) | 2 lines
Changed paths:
   M /trunk/web_tt2/login_menu.tt2
   M /trunk/web_tt2/loginbanner.tt2

Change: replaced the "magic authentication" with the SSO service name, defined in auth.conf

------------------------------------------------------------------------
r4411 | david.verdin | 2007-05-25 13:39:56 +0200 (Fri, 25 May 2007) | 2 lines
Changed paths:
   M /trunk/src/Upgrade.pm

probe_db() now updates primary key only if it is not fair to its definition in Sympa. This prevents us from removing and recreating perfectly compliant primary keys anytime the function is called.

------------------------------------------------------------------------
r4410 | olivier.salaun | 2007-05-24 18:05:21 +0200 (Thu, 24 May 2007) | 2 lines
Changed paths:
   M /trunk/src/List.pm

[#3097] Change: moved the code that remove SMTP header fields (defined by the remove_headers parameter) before the archiving code.

------------------------------------------------------------------------
r4409 | olivier.salaun | 2007-05-24 15:21:54 +0200 (Thu, 24 May 2007) | 5 lines
Changed paths:
   M /trunk/src/List.pm
   M /trunk/src/Message.pm

[reported by T.Berry, NASA] Fix: empty Subject field were replaced with
'Charset'. This seems to be a MIME::EncWords::decode_mimewords() bug.
Also fixed problems with custom subject parsing that was still using the old
parser::parse_tpl().

------------------------------------------------------------------------
r4407 | david.verdin | 2007-05-22 16:15:53 +0200 (Tue, 22 May 2007) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/NEWS

Added missing informations in Changelog and NEWS.

------------------------------------------------------------------------
r4405 | david.verdin | 2007-05-22 14:03:59 +0200 (Tue, 22 May 2007) | 2 lines
Changed paths:
   M /trunk/.version
   M /trunk/ChangeLog
   M /trunk/NEWS

Updated to verdion 5.3

------------------------------------------------------------------------
r4404 | david.verdin | 2007-05-22 13:53:04 +0200 (Tue, 22 May 2007) | 2 lines
Changed paths:
   M /trunk/po/cs.po
   M /trunk/po/es.po
   M /trunk/po/fr.po
   M /trunk/po/it.po
   M /trunk/po/oc.po

Fix: Somes "\n" string in translations were generating fatal errors during install.

------------------------------------------------------------------------
r4403 | david.verdin | 2007-05-21 12:28:41 +0200 (Mon, 21 May 2007) | 2 lines
Changed paths:
   M /trunk/po/bg.po
   M /trunk/po/cs.po
   M /trunk/po/de.po
   M /trunk/po/el.po
   M /trunk/po/en_US.po
   M /trunk/po/es.po
   M /trunk/po/et.po
   M /trunk/po/eu.po
   M /trunk/po/fi.po
   M /trunk/po/fr.po
   M /trunk/po/hu.po
   M /trunk/po/it.po
   M /trunk/po/ja.po
   M /trunk/po/nb_NO.po
   M /trunk/po/nl.po
   M /trunk/po/oc.po
   M /trunk/po/pl.po
   M /trunk/po/pt.po
   M /trunk/po/pt_BR.po
   M /trunk/po/ro.po
   M /trunk/po/ru.po
   M /trunk/po/sv.po
   M /trunk/po/sympa.pot
   M /trunk/po/tr.po
   M /trunk/po/zh_CN.po

Updated sympa.pot and then PO files

------------------------------------------------------------------------
r4402 | david.verdin | 2007-05-21 12:20:57 +0200 (Mon, 21 May 2007) | 2 lines
Changed paths:
   M /trunk/po/cs.po
   M /trunk/po/de.po
   M /trunk/po/es.po
   M /trunk/po/et.po
   M /trunk/po/fr.po
   M /trunk/po/hu.po
   M /trunk/po/it.po
   M /trunk/po/nl.po
   M /trunk/po/oc.po

Updated several translations from pootle. Main changes are found in Spanish, Italian and Occitan.

------------------------------------------------------------------------
r4401 | david.verdin | 2007-05-21 12:02:33 +0200 (Mon, 21 May 2007) | 2 lines
Changed paths:
   M /trunk/po/pt_BR.po

[submitted by Prof. P.E.M. Almeida] Updated brazilian translation.

------------------------------------------------------------------------
r4399 | olivier.salaun | 2007-05-15 14:01:14 +0200 (Tue, 15 May 2007) | 4 lines
Changed paths:
   M /trunk/src/bouncequeue.c
   M /trunk/src/familyqueue.c
   M /trunk/src/queue.c

[#2945][D.Jahnke-Zumbusch] Fix: queue, bouncequeue and familiqueue scripts were removing the first "From xx" line found even though it was not part of SMTP headers. This caused problems with Postif if the 'F' flag was not set in master.cf, because postfix would not add the expected "From xx" Header field to the delivered message.

The code has been fixed to look for the "From xx" in the first line of the message only.

------------------------------------------------------------------------
r4398 | david.verdin | 2007-05-15 10:44:47 +0200 (Tue, 15 May 2007) | 2 lines
Changed paths:
   M /trunk/src/tt2.pl

[#3086 Submitted by S. Hornburg, linuxia.de] Fix: When Sympa failed to create a template object, the last system error was displayed instead of the last Template error.

------------------------------------------------------------------------
r4397 | david.verdin | 2007-05-09 18:07:37 +0200 (Wed, 09 May 2007) | 2 lines
Changed paths:
   M /trunk/.version
   M /trunk/src/Upgrade.pm

Change : During upgrade process, if an existing primary key is incomplete, it is completed.

------------------------------------------------------------------------
r4396 | david.verdin | 2007-05-09 17:12:34 +0200 (Wed, 09 May 2007) | 2 lines
Changed paths:
   M /trunk/src/Upgrade.pm

Fix: Found new index names to remove from previous installs.

------------------------------------------------------------------------
r4392 | olivier.salaun | 2007-05-09 15:20:09 +0200 (Wed, 09 May 2007) | 2 lines
Changed paths:
   M /trunk/wwsympa/wwsympa.fcgi

[reported by L.Sousa, univ do Algarve] Change: don't print the list_menu if info scenario forbid access to list info.

------------------------------------------------------------------------
r4391 | david.verdin | 2007-05-09 14:58:13 +0200 (Wed, 09 May 2007) | 2 lines
Changed paths:
   M /trunk/src/Upgrade.pm

Fix: A problem between 5.0 MySQL (in test environment) and 4.1 MySQL (in production) : MySQL 4.1 doesn't support "WHERE" clauses in "SHOW" statements.

------------------------------------------------------------------------
r4389 | david.verdin | 2007-05-04 12:13:27 +0200 (Fri, 04 May 2007) | 3 lines
Changed paths:
   M /trunk/src/Upgrade.pm

[Reported by T. Davis, Metaphor studios] Fix: Useless warnings regarding PRIMARY KEY and INDEX at upgrade no longer appear.
[Reported by X. Moghrabi, Objectweb] Fix: Former indexes are removed if necessary to avoid double indexing of primary keys.

------------------------------------------------------------------------
r4388 | david.verdin | 2007-05-04 10:51:01 +0200 (Fri, 04 May 2007) | 2 lines
Changed paths:
   M /trunk/src/List.pm

Just added some comments.

------------------------------------------------------------------------
r4387 | olivier.salaun | 2007-05-03 16:35:59 +0200 (Thu, 03 May 2007) | 2 lines
Changed paths:
   M /trunk/src/etc/script/tpl2tt2.pl

Fix: an error occurred during upgrade caused by a List object being considered an array ("coercing array into hash").

------------------------------------------------------------------------
r4386 | olivier.salaun | 2007-05-02 17:52:19 +0200 (Wed, 02 May 2007) | 3 lines
Changed paths:
   M /trunk/web_tt2/copy_template.tt2
   M /trunk/web_tt2/ls_templates.tt2
   M /trunk/wwsympa/wwsympa.fcgi

[#3074] Fix: Could not list templates for a given list.
Also fixed a presentation problems (columns were shifted)

------------------------------------------------------------------------
r4385 | olivier.salaun | 2007-05-02 17:04:45 +0200 (Wed, 02 May 2007) | 2 lines
Changed paths:
   M /trunk/src/tools.pl

[#3075]Fix: file were renamed with a parasite '\'

------------------------------------------------------------------------
r4384 | david.verdin | 2007-05-02 14:15:13 +0200 (Wed, 02 May 2007) | 2 lines
Changed paths:
   M /trunk/src/List.pm

[Submitted by M. Gaudet, EHESS] Fix: Encoding problems when upgrading from versions of pre-all-UTF-8 era. config files were saved into UTF-8 without character conversion which messed list subjects and some admin values.

------------------------------------------------------------------------
r4383 | olivier.salaun | 2007-05-02 09:41:32 +0200 (Wed, 02 May 2007) | 2 lines
Changed paths:
   M /trunk/src/Upgrade.pm

Fix: some files (sympa.conf, wwsympa.conf, robot.conf) were not converted to UTF-8

------------------------------------------------------------------------
r4382 | olivier.salaun | 2007-04-27 18:11:16 +0200 (Fri, 27 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/task_manager.pl

Fix: don't create list task if list status is not 'open'.

------------------------------------------------------------------------
r4381 | olivier.salaun | 2007-04-27 12:19:05 +0200 (Fri, 27 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/Upgrade.pm

[requested by S.Amrani, Gendarmerie Nationale] Change: probe_db() would previously alter DB field format if different from the expected format. Now accept fields with a size larger than expected.

------------------------------------------------------------------------
r4380 | david.verdin | 2007-04-27 09:46:07 +0200 (Fri, 27 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/Upgrade.pm

[Reported by M. Gaudet, EHESS] Resolves encoding problems for lists' info files when upgrading from version 4.1.5 in lists where no 'filesystem_encoding' parameter was set.

------------------------------------------------------------------------
r4379 | olivier.salaun | 2007-04-26 16:54:39 +0200 (Thu, 26 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/Conf.pm
   M /trunk/wwsympa/cookielib.pm
   M /trunk/wwsympa/wwsympa.fcgi

[proposed by P.Schober, Univ Vienna] New feature: added logout feature to generic_sso. This required adding a new sympa_sso_id HTTP cookie to keep track of which SSO was used to login. Also reorganized the cookielib subroutines.

------------------------------------------------------------------------
r4378 | olivier.salaun | 2007-04-26 12:06:03 +0200 (Thu, 26 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/List.pm

Fix: Definition of a default LDAP port (389) for include_ldap_xxx was leeding Sympa to use 389 port for LDAPS (instead of 636 port)

------------------------------------------------------------------------
r4376 | david.verdin | 2007-04-25 17:02:40 +0200 (Wed, 25 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/Upgrade.pm

[deb#418836][Reported by O. Berger, INT] Fix: SHOW FIELDS failed while upgrading. Now removing the dbname part in the tables() return value.

------------------------------------------------------------------------
r4375 | olivier.salaun | 2007-04-25 09:46:19 +0200 (Wed, 25 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/List.pm

[T.Berry, NASA] Fix: "Undefined subroutine &Task::list_tasks called at /usr/local/jpl/msg/list/sympa/bin/List.pm line 12333". The new version of List::purge() uses Task::list_tasks() subroutine but a "use Task" pragma is missing in List.pm.

------------------------------------------------------------------------
r4373 | olivier.salaun | 2007-04-23 17:03:45 +0200 (Mon, 23 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/List.pm

Fix: Error "Can't use an undefined value as an ARRAY reference" while processing digests. Fixed the parameter loading procedure to handle correctly defaults (structured parameter with no default in subentries)

------------------------------------------------------------------------
r4372 | olivier.salaun | 2007-04-23 17:01:08 +0200 (Mon, 23 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/List.pm

Set log level to 'err' when required

------------------------------------------------------------------------
r4238 | olivier.salaun | 2007-04-23 13:36:27 +0200 (Mon, 23 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/Conf.pm

Move log entry to debug

------------------------------------------------------------------------
r4236 | olivier.salaun | 2007-04-23 12:59:03 +0200 (Mon, 23 Apr 2007) | 2 lines
Changed paths:
   M /trunk/.version
   M /trunk/ChangeLog
   M /trunk/NEWS

Preparing 5.3b.5

------------------------------------------------------------------------
r4235 | olivier.salaun | 2007-04-20 16:51:01 +0200 (Fri, 20 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/Upgrade.pm

Added SQL query to error log

------------------------------------------------------------------------
r4234 | olivier.salaun | 2007-04-20 16:38:24 +0200 (Fri, 20 Apr 2007) | 2 lines
Changed paths:
   M /trunk/po/Makefile
   M /trunk/src/Language.pm

[reported by L.Garnier, CNRS] Fix: complete locale ID for Basque is eu_ES

------------------------------------------------------------------------
r4233 | olivier.salaun | 2007-04-20 13:54:05 +0200 (Fri, 20 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/aliaswrapper.c
   M /trunk/src/virtualwrapper.c

[reported by L.Garnier, CNRS] Fix: added missing include of stdlib.h

------------------------------------------------------------------------
r4232 | olivier.salaun | 2007-04-20 12:16:26 +0200 (Fri, 20 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/etc/script/Makefile

[reported by L.Garnier, CNRS] Removed ref to old load_subscribers.pl script

------------------------------------------------------------------------
r4231 | david.verdin | 2007-04-18 17:51:58 +0200 (Wed, 18 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/etc/mhonarc-ressources.tt2
   M /trunk/wwsympa/archived.pl

[#3013][submitted by P. Timmons, Ec. Polytechnique Montreal] Fix : The button "toggle selection" did not trigger its action and produced a javascript error instead. Plus added some pod documentation.

------------------------------------------------------------------------
r4230 | david.verdin | 2007-04-18 12:13:59 +0200 (Wed, 18 Apr 2007) | 2 lines
Changed paths:
   M /trunk/web_tt2/css.tt2

[#2975]Fix: removed a '{' in excess at the end of file which would cause two javascript errors at each page loading ("Selector expected. Invalid rule set ignored." and "unexpected end of file while looking for closing } of an invalid rule set."). Leaving IE proprietary "zoom" property. Must be useful in some way.

------------------------------------------------------------------------
r4229 | david.verdin | 2007-04-18 11:05:33 +0200 (Wed, 18 Apr 2007) | 2 lines
Changed paths:
   M /trunk/wwsympa/wwsympa.fcgi

[#3012][submitted by P. Timmons, Ec. Polytechnique Montreal] Fix: Robot listmaster couldn't edit scenarios due to the $robot parameter not being called by is_listmaster() function in do_dump_scenario().

------------------------------------------------------------------------
r4228 | olivier.salaun | 2007-04-18 09:26:44 +0200 (Wed, 18 Apr 2007) | 4 lines
Changed paths:
   M /trunk/wwsympa/archived.pl

Fix: archived.pl would die while processing a message for an unknown list.
Error message : "Can't call method "get_list_id" on unblessed reference at
/home/sympa/bin/archived.pl line 526."

------------------------------------------------------------------------
r4227 | david.verdin | 2007-04-16 11:28:17 +0200 (Mon, 16 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/etc/script/sympa

Feature: Startup script now works with Slackware distributions.

------------------------------------------------------------------------
r4226 | david.verdin | 2007-04-16 10:41:06 +0200 (Mon, 16 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/Family.pm
   M /trunk/src/List.pm

Added pod documentation and various comments.

------------------------------------------------------------------------
r4225 | david.verdin | 2007-04-06 10:35:44 +0200 (Fri, 06 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/Conf.pm

[#724] Fix: max_size parameter can now be used in robot.conf

------------------------------------------------------------------------
r4224 | david.verdin | 2007-04-04 17:08:40 +0200 (Wed, 04 Apr 2007) | 2 lines
Changed paths:
   M /trunk/soap/sympasoap.pm

[#1325][#2969] [submitted by *both* O. Duval and O. Berger (INT Evry)] Fix: topics parameter wasn't used while creating a list with SOAP.

------------------------------------------------------------------------
r4223 | olivier.salaun | 2007-04-03 17:36:58 +0200 (Tue, 03 Apr 2007) | 3 lines
Changed paths:
   M /trunk/src/Language.pm
   M /trunk/src/tools.pl
   M /trunk/wwsympa/wwsympa.fcgi

Fix: wwsympa.fcgi would die when a ZIP archive was uploaded (d_unzip). Added the missing parameter to &tools::qencode_hi
erarchy()

------------------------------------------------------------------------
r4222 | david.verdin | 2007-04-03 09:19:22 +0200 (Tue, 03 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/etc/mhonarc-ressources.tt2
   M /trunk/src/tools.pl
   M /trunk/web_tt2/menu.tt2

[Reported by T. Berry, Nasa] Fixed a few typos in the web gui and in console messages.

------------------------------------------------------------------------
r4221 | david.verdin | 2007-04-02 17:55:06 +0200 (Mon, 02 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/Conf.pm

[#1241][reported by G. Donnini, Univ. Milano] Conf.pm didn't load tools.pl

------------------------------------------------------------------------
r4220 | david.verdin | 2007-04-02 16:43:31 +0200 (Mon, 02 Apr 2007) | 2 lines
Changed paths:
   M /trunk/wwsympa/wwsympa.fcgi

[#1661][submitted by S. Peterson, listpilot.com] Added possibility to mention lists topics in the list of lists page.

------------------------------------------------------------------------
r4219 | david.verdin | 2007-04-02 15:59:03 +0200 (Mon, 02 Apr 2007) | 2 lines
Changed paths:
   M /trunk/src/tt2.pl

[#1464][submitted by S. Ikeda] [patch sympa-MAIN-20070103-escape_url.patch] Fix: Some MUAs aren't able to decode ``%40'' (escaped ``@'') in e-mail address of mailto: URL, or take ``@'' in query component for a delimiter to separate URL from the rest.

------------------------------------------------------------------------
r4218 | olivier.salaun | 2007-03-30 15:05:58 +0200 (Fri, 30 Mar 2007) | 2 lines
Changed paths:
   M /trunk/src/LDAPSource.pm

[#934] [reported by A.Powers, DigiPen] New feature: added support for start_tls().

------------------------------------------------------------------------
r4217 | olivier.salaun | 2007-03-30 14:58:59 +0200 (Fri, 30 Mar 2007) | 3 lines
Changed paths:
   M /trunk/src/Log.pm

[#1222] [submitted by G.Donnini, Univ Milano] Fix: check DB connectivity in
Log::db_log_del()

------------------------------------------------------------------------
r4216 | olivier.salaun | 2007-03-30 14:45:20 +0200 (Fri, 30 Mar 2007) | 4 lines
Changed paths:
   M /trunk/src/Family.pm
   M /trunk/src/sympa.pl

[submitted by S.Amrani, Gendarmerie Nationale] New feature: made the family
instanciation process quiet (required when run from a crontab). New sympa.pl
options : --quiet and --close_unknown

------------------------------------------------------------------------
r4215 | olivier.salaun | 2007-03-30 14:42:00 +0200 (Fri, 30 Mar 2007) | 2 lines
Changed paths:
   M /trunk/src/etc/sample/Makefile
   M /trunk/src/etc/sample/README
   M /trunk/src/etc/sample/robot.conf

Fix: no more install empty sample for sympa.conf. Install sample robot.conf

------------------------------------------------------------------------
r4214 | olivier.salaun | 2007-03-30 14:40:02 +0200 (Fri, 30 Mar 2007) | 3 lines
Changed paths:
   M /trunk/src/List.pm

[requested by S.Amrani, Gend.Nationale] Change: Specify the searched
attribute 1.1 (the DN) in List::search()

------------------------------------------------------------------------
r4213 | olivier.salaun | 2007-03-30 14:19:37 +0200 (Fri, 30 Mar 2007) | 2 lines
Changed paths:
   M /trunk/mail_tt2/listeditor_notification.tt2

[#1381] Malformed To: header fields. Removed the gecos to prevent this problem

------------------------------------------------------------------------
r4212 | olivier.salaun | 2007-03-30 14:17:06 +0200 (Fri, 30 Mar 2007) | 2 lines
Changed paths:
   M /trunk/mail_tt2/listowner_notification.tt2
   M /trunk/mail_tt2/moderate.tt2

 [#1381] Malformed To: header fields. Removed the gecos to prevent this problem

------------------------------------------------------------------------
r4211 | olivier.salaun | 2007-03-30 14:12:28 +0200 (Fri, 30 Mar 2007) | 2 lines
Changed paths:
   M /trunk/src/task_manager.pl
   M /trunk/wwsympa/archived.pl
   M /trunk/wwsympa/bounced.pl

[#931] removed calls to report::reject_report_web() in these modules

------------------------------------------------------------------------
r4210 | david.verdin | 2007-03-30 14:02:11 +0200 (Fri, 30 Mar 2007) | 2 lines
Changed paths:
   M /trunk/wwsympa/archived.pl
   M /trunk/wwsympa/bounced.pl

[#931] missing "use report" pragma preventing logs from being written.

------------------------------------------------------------------------
r4209 | david.verdin | 2007-03-29 15:03:51 +0200 (Thu, 29 Mar 2007) | 3 lines
Changed paths:
   M /trunk/src/List.pm
   M /trunk/src/admin.pm
   M /trunk/wwsympa/wwsympa.fcgi

[#2957] Fix: Stored Encode::from_to() return value (string length) instead of string value in info file at list creation time.
Feature: more pod comments added.

------------------------------------------------------------------------
r4208 | david.verdin | 2007-03-28 17:45:54 +0200 (Wed, 28 Mar 2007) | 2 lines
Changed paths:
   M /trunk/web_tt2/serveradmin.tt2

Fix: Modified the "view translation" button in the server administration page to redirect user to pootle.sympa.org instead of the former Sympa action.

------------------------------------------------------------------------
r4207 | david.verdin | 2007-03-28 17:28:15 +0200 (Wed, 28 Mar 2007) | 2 lines
Changed paths:
   M /trunk/web_tt2/skinsedit.tt2

Feature: Added color_* parameters usage in the skin administration page.

------------------------------------------------------------------------
r4206 | david.verdin | 2007-03-28 14:58:37 +0200 (Wed, 28 Mar 2007) | 2 lines
Changed paths:
   M /trunk/web_tt2/admin_menu.tt2
   M /trunk/web_tt2/button_header.tt2
   M /trunk/web_tt2/css.tt2
   M /trunk/web_tt2/list_button_header.tt2

Removed the last occurences of *_color parameters.

------------------------------------------------------------------------
r4205 | david.verdin | 2007-03-27 14:11:49 +0200 (Tue, 27 Mar 2007) | 3 lines
Changed paths:
   M /trunk/src/Log.pm

[#2930][Reported by T. Berry, Nasa] Fix: do_log sub don't apply Encode::from_to() function to reference variables anymore.
(Addition to Rev. 4204 where a development test remained).

------------------------------------------------------------------------
r4204 | david.verdin | 2007-03-27 13:59:18 +0200 (Tue, 27 Mar 2007) | 2 lines
Changed paths:
   M /trunk/src/Log.pm

[#2930][Reported by T. Berry, Nasa] Fix: do_log sub don't apply Encode::from_to() function to reference variables anymore.

------------------------------------------------------------------------
r4203 | david.verdin | 2007-03-27 13:53:13 +0200 (Tue, 27 Mar 2007) | 2 lines
Changed paths:
   M /trunk/src/Message.pm

Added pod comments to Message.pm

------------------------------------------------------------------------
r4202 | olivier.salaun | 2007-03-27 09:46:35 +0200 (Tue, 27 Mar 2007) | 2 lines
Changed paths:
   M /trunk/src/sympa.pl

Let user run sympa.pl --help even if upgrade is needed

------------------------------------------------------------------------
r4201 | olivier.salaun | 2007-03-23 14:49:39 +0100 (Fri, 23 Mar 2007) | 3 lines
Changed paths:
   M /trunk/wwsympa/wwsympa.fcgi

[reported by Univ. Rennes 1] Fix: Prevent problems with URLS containing
'//'. It would break navigations that uses relative URLs. 

------------------------------------------------------------------------
r4200 | olivier.salaun | 2007-03-23 14:47:57 +0100 (Fri, 23 Mar 2007) | 2 lines
Changed paths:
   M /trunk/src/Log.pm
   M /trunk/wwsympa/wwsympa.fcgi

New feature: added calling subroutine ref to log entries.

------------------------------------------------------------------------
r4199 | olivier.salaun | 2007-03-23 14:18:09 +0100 (Fri, 23 Mar 2007) | 4 lines
Changed paths:
   M /trunk/src/Family.pm

[reported by T.Berry, Nasa] [fixed by S.Amrani, Gendarmerie nationale] Fix:
automatic list creation failure was incorrectly handled and message could be
lost.

------------------------------------------------------------------------
r4198 | olivier.salaun | 2007-03-23 12:14:30 +0100 (Fri, 23 Mar 2007) | 4 lines
Changed paths:
   M /trunk/src/Lock.pm

[#2930][reported by T.Berry, Nasa] Fix: sympa processes would print binary
data to the TTY. It was due to a File Handler variable that was logged. 
Also fixed a bug related to file unlocking.

------------------------------------------------------------------------
r4197 | olivier.salaun | 2007-03-23 12:06:18 +0100 (Fri, 23 Mar 2007) | 3 lines
Changed paths:
   M /trunk/src/List.pm
   M /trunk/src/Task.pm

[#2940] [reported by T.Berry, Nasa] Fix: remove list-related task when
purging a closed list

------------------------------------------------------------------------
r4196 | olivier.salaun | 2007-03-23 11:56:11 +0100 (Fri, 23 Mar 2007) | 3 lines
Changed paths:
   M /trunk/mail_tt2/listowner_notification.tt2

[#2933] [fixed by R.Gilbert, Univ Sheffield] Fix: missing white space in
validation URL

------------------------------------------------------------------------
r4195 | olivier.salaun | 2007-03-23 11:34:23 +0100 (Fri, 23 Mar 2007) | 3 lines
Changed paths:
   M /trunk/src/List.pm

[#2932] [reported by R.Gilbert, Univ Sheffield] Change: Use listmaster as
default in List::send_notify_to_owner(), in case no owner is defined.

------------------------------------------------------------------------
r4194 | olivier.salaun | 2007-03-22 10:54:54 +0100 (Thu, 22 Mar 2007) | 2 lines
Changed paths:
   M /trunk/src/List.pm
   M /trunk/wwsympa/wwsympa.fcgi

[#1075] : Default values for parameter 'reply_to_header' are now correctly loaded.

------------------------------------------------------------------------
r4193 | olivier.salaun | 2007-03-19 16:19:04 +0100 (Mon, 19 Mar 2007) | 2 lines
Changed paths:
   M /trunk/INSTALL
   M /trunk/NEWS

Indicates to use MySQL version>=4.1, in order to be able to execute the directive "SET NAMES utf8".

------------------------------------------------------------------------
r4192 | olivier.salaun | 2007-03-19 15:26:39 +0100 (Mon, 19 Mar 2007) | 2 lines
Changed paths:
   M /trunk/web_tt2/edit_list_request.tt2
   M /trunk/wwsympa/wwsympa.fcgi

Fix [#985]: Hide "update" button whenever no parameter can be edited in the current page

------------------------------------------------------------------------
r4191 | olivier.salaun | 2007-03-19 12:24:10 +0100 (Mon, 19 Mar 2007) | 2 lines
Changed paths:
   A /trunk/.version

Add missing file

------------------------------------------------------------------------
r4190 | olivier.salaun | 2007-03-19 10:53:17 +0100 (Mon, 19 Mar 2007) | 6 lines
Changed paths:
   A /trunk/src/LDAPSource.pm
   M /trunk/src/Ldap.pm
   M /trunk/src/List.pm
   M /trunk/src/Makefile
   M /trunk/wwsympa/wwsympa.fcgi

Fix: [reported by R.Caldwelr, Franklin university] wwsympa::is_ldap_user()
would not use provided bind_dn and bind_password.
Change: New LDAPSource module to gather all LDAP-related code. Currently
only connect() and disconnect() have been implemented.
Change: removed obsolete export_list() functions (+related)

------------------------------------------------------------------------
r4189 | olivier.salaun | 2007-03-19 10:46:58 +0100 (Mon, 19 Mar 2007) | 2 lines
Changed paths:
   M /trunk/wwsympa/Auth.pm

Fixed description of the module

------------------------------------------------------------------------
r4188 | olivier.salaun | 2007-03-14 16:42:47 +0100 (Wed, 14 Mar 2007) | 2 lines
Changed paths:
   M /trunk/src/SQLSource.pm

Fixed comment

------------------------------------------------------------------------
r4187 | olivier.salaun | 2007-03-14 16:42:14 +0100 (Wed, 14 Mar 2007) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/Makefile.in

Fixed path to sympa.pl

------------------------------------------------------------------------
r4185 | olivier.salaun | 2007-03-13 15:40:55 +0100 (Tue, 13 Mar 2007) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/NEWS

Preparing 5.3b.4 another time

------------------------------------------------------------------------
r4184 | david.verdin | 2007-03-09 16:52:06 +0100 (Fri, 09 Mar 2007) | 2 lines
Changed paths:
   M /trunk/src/Log.pm

Fix: Error "Column count doesn't match value count at row 1" while inserting data in the logs table. Prevent integer format problems

------------------------------------------------------------------------
r4183 | olivier.salaun | 2007-03-05 09:15:28 +0100 (Mon, 05 Mar 2007) | 2 lines
Changed paths:
   M /trunk/ChangeLog

preparing 5.3a.4

------------------------------------------------------------------------
r4182 | olivier.salaun | 2007-03-04 11:41:19 +0100 (Sun, 04 Mar 2007) | 2 lines
Changed paths:
   M /trunk/src/sympa_wizard.pl

Removed filesystem_encoding parameter from the wizard

------------------------------------------------------------------------
r4180 | olivier.salaun | 2007-02-26 11:34:56 +0100 (Mon, 26 Feb 2007) | 2 lines
Changed paths:
   M /trunk/Makefile.am
   M /trunk/Makefile.in

Added upgrade instructions at the end of "make install"

------------------------------------------------------------------------
r4179 | olivier.salaun | 2007-02-26 11:20:05 +0100 (Mon, 26 Feb 2007) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/NEWS

Preparing 5.3b.4

------------------------------------------------------------------------
r4178 | olivier.salaun | 2007-02-23 16:43:22 +0100 (Fri, 23 Feb 2007) | 2 lines
Changed paths:
   M /trunk/mail_tt2/listmaster_notification.tt2
   M /trunk/src/sympa.pl

Fix: sympa.pl processes dedicated to message distribution or automatic list creation would not remove their pid file properly

------------------------------------------------------------------------
r4177 | olivier.salaun | 2007-02-23 11:44:45 +0100 (Fri, 23 Feb 2007) | 2 lines
Changed paths:
   M /trunk/wwsympa/bounced.pl

Added log for standard bounce processing

------------------------------------------------------------------------
r4176 | olivier.salaun | 2007-02-23 11:40:13 +0100 (Fri, 23 Feb 2007) | 3 lines
Changed paths:
   M /trunk/src/Log.pm

Fix: increase entropy for logs table ID.
It was required to prevent "duplicate entries" errors.

------------------------------------------------------------------------
r4175 | olivier.salaun | 2007-02-22 11:18:48 +0100 (Thu, 22 Feb 2007) | 2 lines
Changed paths:
   M /trunk/wwsympa/wwsympa.fcgi

Fix: allow \n for "dump" parameter, required for mutliple add

------------------------------------------------------------------------
r4174 | olivier.salaun | 2007-02-22 11:03:29 +0100 (Thu, 22 Feb 2007) | 2 lines
Changed paths:
   M /trunk/src/etc/script/Makefile
   A /trunk/src/etc/script/mysql_alias_manager.pl

[Bea, Cartables.net] NEw feature: added an alias_manager that is MySQL enabled.

------------------------------------------------------------------------
r4173 | olivier.salaun | 2007-02-21 17:50:32 +0100 (Wed, 21 Feb 2007) | 3 lines
Changed paths:
   M /trunk/src/Log.pm
   M /trunk/web_tt2/viewlogs.tt2
   M /trunk/wwsympa/wwsympa.fcgi

Fix: list owner could view db logs of other lists.
Changed the feature so that only the current list logs can be viewed. Also simplified the code. Fixed the resize feature. The sortby feature is still buggy

------------------------------------------------------------------------
r4172 | olivier.salaun | 2007-02-19 16:26:05 +0100 (Mon, 19 Feb 2007) | 2 lines
Changed paths:
   M /trunk/src/admin.pm

Added sync_include after list creation/update (family context)

------------------------------------------------------------------------
r4171 | olivier.salaun | 2007-02-19 14:53:55 +0100 (Mon, 19 Feb 2007) | 2 lines
Changed paths:
   M /trunk/src/Family.pm

Remove traces

------------------------------------------------------------------------
r4170 | olivier.salaun | 2007-02-19 14:38:45 +0100 (Mon, 19 Feb 2007) | 3 lines
Changed paths:
   M /trunk/src/Family.pm
   M /trunk/src/admin.pm

Changes: trigger a sync_include after list creation/update
Also made list topics problems non blocking

------------------------------------------------------------------------
r4169 | olivier.salaun | 2007-02-19 11:28:09 +0100 (Mon, 19 Feb 2007) | 3 lines
Changed paths:
   M /trunk/wwsympa/wwsympa.fcgi

Fix: arcsearch would crash wwsympa process if provided a search expression with both invalid expression and \n, because tools::escape_regexp() does not apply on multi-line.
Changed the allowed regexp for wwsympa incoming parameters to forbid \n in most of them.

------------------------------------------------------------------------
r4168 | olivier.salaun | 2007-02-08 14:19:27 +0100 (Thu, 08 Feb 2007) | 2 lines
Changed paths:
   M /trunk/src/Upgrade.pm

Fix: replaced the '.date' extension of backup files with '@date' to prevent problems with scenario files.

------------------------------------------------------------------------
r4165 | olivier.salaun | 2007-02-07 17:53:45 +0100 (Wed, 07 Feb 2007) | 2 lines
Changed paths:
   M /trunk/src/List.pm

Fix: set the charset to UTF-8 while attaching a header / footer

------------------------------------------------------------------------
r4164 | olivier.salaun | 2007-02-07 15:29:29 +0100 (Wed, 07 Feb 2007) | 2 lines
Changed paths:
   M /trunk/src/Upgrade.pm

Homeapge files also needed to be UTF8 converted

------------------------------------------------------------------------
r4162 | olivier.salaun | 2007-02-07 15:04:49 +0100 (Wed, 07 Feb 2007) | 2 lines
Changed paths:
   M /trunk/po/fi.po

Fix: `msgid' and `msgstr' entries do not both end with '\n'

------------------------------------------------------------------------
r4161 | olivier.salaun | 2007-02-07 14:58:22 +0100 (Wed, 07 Feb 2007) | 2 lines
Changed paths:
   M /trunk/Makefile.in

preparing 5.3b.3

------------------------------------------------------------------------
r4160 | olivier.salaun | 2007-02-07 14:56:27 +0100 (Wed, 07 Feb 2007) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/NEWS
   M /trunk/src/Upgrade.pm

Preparing 5.3b.3

------------------------------------------------------------------------
r4159 | olivier.salaun | 2007-02-07 14:23:45 +0100 (Wed, 07 Feb 2007) | 2 lines
Changed paths:
   M /trunk/po/bg.po
   M /trunk/po/cs.po
   M /trunk/po/de.po
   M /trunk/po/el.po
   M /trunk/po/es.po
   M /trunk/po/et.po
   M /trunk/po/fi.po
   M /trunk/po/fr.po
   M /trunk/po/hu.po
   M /trunk/po/it.po
   M /trunk/po/ja.po
   M /trunk/po/nb_NO.po
   M /trunk/po/nl.po
   M /trunk/po/oc.po
   M /trunk/po/pt.po
   M /trunk/po/pt_BR.po
   M /trunk/po/ro.po
   M /trunk/po/ru.po
   M /trunk/po/sv.po
   M /trunk/po/sympa.pot
   M /trunk/po/tr.po
   M /trunk/po/zh_CN.po

Updates from pootle

------------------------------------------------------------------------
r4158 | olivier.salaun | 2007-02-06 17:36:27 +0100 (Tue, 06 Feb 2007) | 3 lines
Changed paths:
   M /trunk/src/Conf.pm
   M /trunk/src/Upgrade.pm
   M /trunk/src/sympa.pl

Changes: extended the migration script to UTF8 for all configuration files.
filesystem_encoding parameter is no more supported.

------------------------------------------------------------------------
r4153 | olivier.salaun | 2007-02-05 16:42:03 +0100 (Mon, 05 Feb 2007) | 2 lines
Changed paths:
   M /trunk/ChangeLog

Updated

------------------------------------------------------------------------
r4152 | olivier.salaun | 2007-02-05 15:59:07 +0100 (Mon, 05 Feb 2007) | 4 lines
Changed paths:
   M /trunk/src/Upgrade.pm

[ID 1500][S.Ikeda] Change: converting mail templates to UTF8.
The script has been integrated into Upgrade.pm and has been extended to
convert other configuration files

------------------------------------------------------------------------
r4151 | olivier.salaun | 2007-02-05 15:55:42 +0100 (Mon, 05 Feb 2007) | 2 lines
Changed paths:
   M /trunk/src/mail.pm

Change: made UTF-8 the default charset

------------------------------------------------------------------------
r4150 | olivier.salaun | 2007-02-05 15:54:15 +0100 (Mon, 05 Feb 2007) | 3 lines
Changed paths:
   M /trunk/mail_tt2/archive.tt2
   M /trunk/mail_tt2/bye.tt2
   M /trunk/mail_tt2/certif_warning.tt2
   M /trunk/mail_tt2/command_report.tt2
   M /trunk/mail_tt2/d_install_shared.tt2
   M /trunk/mail_tt2/d_reject_shared.tt2
   M /trunk/mail_tt2/digest.tt2
   M /trunk/mail_tt2/digest_plain.tt2
   M /trunk/mail_tt2/expire_deletion.tt2
   M /trunk/mail_tt2/expire_warning1.tt2
   M /trunk/mail_tt2/expire_warning2.tt2
   M /trunk/mail_tt2/get_archive.tt2
   M /trunk/mail_tt2/global_remind.tt2
   M /trunk/mail_tt2/helpfile.tt2
   M /trunk/mail_tt2/index_archive.tt2
   M /trunk/mail_tt2/info_report.tt2
   M /trunk/mail_tt2/invite.tt2
   M /trunk/mail_tt2/list_created.tt2
   M /trunk/mail_tt2/list_rejected.tt2
   M /trunk/mail_tt2/list_unknown.tt2
   M /trunk/mail_tt2/listeditor_notification.tt2
   M /trunk/mail_tt2/listmaster_notification.tt2
   M /trunk/mail_tt2/listowner_notification.tt2
   M /trunk/mail_tt2/lists.tt2
   M /trunk/mail_tt2/message_report.tt2
   M /trunk/mail_tt2/moderate.tt2
   M /trunk/mail_tt2/modindex.tt2
   M /trunk/mail_tt2/reject.tt2
   M /trunk/mail_tt2/remind.tt2
   M /trunk/mail_tt2/removed.tt2
   M /trunk/mail_tt2/request_auth.tt2
   M /trunk/mail_tt2/review.tt2
   M /trunk/mail_tt2/send_auth.tt2
   M /trunk/mail_tt2/sendpasswd.tt2
   M /trunk/mail_tt2/stats_report.tt2
   M /trunk/mail_tt2/summary.tt2
   M /trunk/mail_tt2/urlized_part.tt2
   M /trunk/mail_tt2/user_notification.tt2
   M /trunk/mail_tt2/welcome.tt2
   M /trunk/mail_tt2/which.tt2
   M /trunk/mail_tt2/x509-user-cert-missing.tt2
   M /trunk/mail_tt2/your_infected_msg.tt2

Change: all service messages are now UTF8
Also made the templates structure simpler

------------------------------------------------------------------------
r4149 | olivier.salaun | 2007-02-05 15:52:20 +0100 (Mon, 05 Feb 2007) | 3 lines
Changed paths:
   M /trunk/src/Log.pm

Fix: db_logs were expired too early (parameter expressed in days instead of
months)

------------------------------------------------------------------------
r4148 | olivier.salaun | 2007-02-05 15:50:49 +0100 (Mon, 05 Feb 2007) | 4 lines
Changed paths:
   M /trunk/src/List.pm

Change: trigger sync_include before distributing a message to a list, unless
it was performed during the last 5 min.
Fix: $self->{'last_sync'} was never loaded

------------------------------------------------------------------------
r4147 | olivier.salaun | 2007-01-31 18:11:27 +0100 (Wed, 31 Jan 2007) | 3 lines
Changed paths:
   M /trunk/web_tt2/error.tt2

[requested by C.Andrews, Boston College] Added an error message for list creation failure.
It is required when an existing listname has been used ; we cannot get the error diagnostic from admin::create_list_old() though

------------------------------------------------------------------------
r4146 | olivier.salaun | 2007-01-31 09:52:30 +0100 (Wed, 31 Jan 2007) | 3 lines
Changed paths:
   M /trunk/wwsympa/Marc/Search.pm

Fix: wwsympa might die with error "Cannot decode string with wide characters".
Now opening archives as bytes (not utf8) to prevent decoding

------------------------------------------------------------------------
r4145 | olivier.salaun | 2007-01-30 17:34:10 +0100 (Tue, 30 Jan 2007) | 3 lines
Changed paths:
   M /trunk/src/tools.pl

Fix: don't redirect stderr to a file if process runs in foreground.
Also changed the owner of the ;stderr file

------------------------------------------------------------------------
r4144 | olivier.salaun | 2007-01-30 17:16:01 +0100 (Tue, 30 Jan 2007) | 4 lines
Changed paths:
   M /trunk/wwsympa/Marc/Search.pm

Fix: arcsearch_id would fail on some messages.
Marc::Search expectes mhonarc to add X-Subject data to generated HTML files. Some examples were found with X-Subject value split among 2 lines.
Marc::Search::search() is now able to parse split X-Subject entries.

------------------------------------------------------------------------
r4143 | olivier.salaun | 2007-01-29 17:37:29 +0100 (Mon, 29 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/mail.pm

Change order

------------------------------------------------------------------------
r4142 | olivier.salaun | 2007-01-29 10:15:08 +0100 (Mon, 29 Jan 2007) | 3 lines
Changed paths:
   M /trunk/mail_tt2/listmaster_notification.tt2
   M /trunk/src/sympa.pl
   M /trunk/src/task_manager.pl
   M /trunk/src/tools.pl
   M /trunk/wwsympa/archived.pl
   M /trunk/wwsympa/bounced.pl

New feature: STDERR of daemons is redirected to a file. If process crashes,
next process started will detect the failure and send a notice to listmaster.

------------------------------------------------------------------------
r4141 | serge.aumont | 2007-01-26 13:20:06 +0100 (Fri, 26 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/List.pm

Remove scenario traces

------------------------------------------------------------------------
r4140 | olivier.salaun | 2007-01-26 12:05:20 +0100 (Fri, 26 Jan 2007) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/src/List.pm
   M /trunk/wwsympa/wwsympa.fcgi

Change: 'include' mode is now obsolete. Now performing a mapping while to 'include2' while loading the parameter.

------------------------------------------------------------------------
r4139 | olivier.salaun | 2007-01-26 11:55:43 +0100 (Fri, 26 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/task_manager.pl
   M /trunk/wwsympa/archived.pl
   M /trunk/wwsympa/bounced.pl

Fix: debug mode would not work with task_manager.pl, archived.pl and bounced.pl

------------------------------------------------------------------------
r4138 | olivier.salaun | 2007-01-26 11:48:45 +0100 (Fri, 26 Jan 2007) | 3 lines
Changed paths:
   M /branches/sympa-5_2-branch/src/List.pm
   M /trunk/src/List.pm

[reported by F.Lachapelle] Fix: sync_include tasks were created for all lists, including those with no external data sources
The List::has_include_data_source() subroutine has been fixed to correctly check owner_include

------------------------------------------------------------------------
r4137 | serge.aumont | 2007-01-24 16:14:49 +0100 (Wed, 24 Jan 2007) | 2 lines
Changed paths:
   M /trunk/wwsympa/wwsympa.fcgi

remove authentication request for do_tag_topic_by_sender and do_request_topic, autehntication is done because of the md5 key of the message.

------------------------------------------------------------------------
r4136 | serge.aumont | 2007-01-24 11:46:42 +0100 (Wed, 24 Jan 2007) | 2 lines
Changed paths:
   M /trunk/web_tt2/request_topic.tt2
   M /trunk/wwsympa/wwsympa.fcgi

Internal error with message that can't be parsed solved in request_topic action.

------------------------------------------------------------------------
r4135 | serge.aumont | 2007-01-23 18:18:46 +0100 (Tue, 23 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/sympa.pl

incorrect var definition (msg_topic and mederation)

------------------------------------------------------------------------
r4133 | serge.aumont | 2007-01-23 17:56:33 +0100 (Tue, 23 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/List.pm
   M /trunk/src/sympa.pl

New value possible for msg_topic_required to adpat it both for moderated list and un moderated lists

------------------------------------------------------------------------
r4132 | serge.aumont | 2007-01-23 17:52:16 +0100 (Tue, 23 Jan 2007) | 2 lines
Changed paths:
   M /trunk/web_tt2/edit_list_request.tt2

submit form when changing a scenario name

------------------------------------------------------------------------
r4130 | olivier.salaun | 2007-01-23 12:13:36 +0100 (Tue, 23 Jan 2007) | 3 lines
Changed paths:
   M /trunk/src/tools.pl

Fix: escape_regexp would not work.
This would break arcsearch_id used in RSS context

------------------------------------------------------------------------
r4129 | olivier.salaun | 2007-01-22 16:13:33 +0100 (Mon, 22 Jan 2007) | 3 lines
Changed paths:
   M /branches/sympa-5_2-branch/src/mail.pm
   M /trunk/src/mail.pm

Fix: Some service messages (moderation, topics tagging and reminder) delegated by wwsympa to sympa.pl would have missing X-Sympa-From header field.
Now setting a default value for the return-path in mail.pm

------------------------------------------------------------------------
r4128 | olivier.salaun | 2007-01-22 16:09:39 +0100 (Mon, 22 Jan 2007) | 2 lines
Changed paths:
   M /trunk/ChangeLog

Update

------------------------------------------------------------------------
r4127 | olivier.salaun | 2007-01-22 16:09:25 +0100 (Mon, 22 Jan 2007) | 2 lines
Changed paths:
   M /trunk/po/bg.po
   M /trunk/po/cs.po
   M /trunk/po/de.po
   M /trunk/po/el.po
   M /trunk/po/en_US.po
   M /trunk/po/es.po
   M /trunk/po/et.po
   M /trunk/po/fi.po
   M /trunk/po/fr.po
   M /trunk/po/hu.po
   M /trunk/po/it.po
   M /trunk/po/ja.po
   M /trunk/po/nb_NO.po
   M /trunk/po/nl.po
   M /trunk/po/oc.po
   M /trunk/po/pt.po
   M /trunk/po/pt_BR.po
   M /trunk/po/ro.po
   M /trunk/po/ru.po
   M /trunk/po/sv.po
   M /trunk/po/tr.po
   M /trunk/po/zh_CN.po

updated POs with POT

------------------------------------------------------------------------
r4126 | olivier.salaun | 2007-01-22 16:09:03 +0100 (Mon, 22 Jan 2007) | 2 lines
Changed paths:
   M /trunk/po/pl.po

Merged translations with POT file

------------------------------------------------------------------------
r4125 | olivier.salaun | 2007-01-19 16:29:46 +0100 (Fri, 19 Jan 2007) | 2 lines
Changed paths:
   M /trunk/src/mail.pm

Added a parameter check in mail::sending()

------------------------------------------------------------------------
r4124 | olivier.salaun | 2007-01-19 15:15:32 +0100 (Fri, 19 Jan 2007) | 2 lines
Changed paths:
   M /trunk/po/pl.po

[Lukasz Zygmanski] Updated Polish translations

------------------------------------------------------------------------
r4123 | olivier.salaun | 2007-01-17 17:04:35 +0100 (Wed, 17 Jan 2007) | 3 lines
Changed paths:
   M /trunk/mail_tt2/moderate.tt2
   M /trunk/src/List.pm
   M /trunk/src/mail.pm

Fix: Renamed 'msg' parameter to 'msg_path' in moderate.tt2.
Take 'spool' parameter into account (for 'modindex' template) in the reformat_message() process

------------------------------------------------------------------------
r4122 | olivier.salaun | 2007-01-17 17:02:40 +0100 (Wed, 17 Jan 2007) | 2 lines
Changed paths:
   M /trunk/doc/man8/sympa.8

Updated

------------------------------------------------------------------------
r4121 | olivier.salaun | 2007-01-17 15:41:25 +0100 (Wed, 17 Jan 2007) | 2 lines
Changed paths:
   M /trunk/mail_tt2/message_report.tt2
   M /trunk/mail_tt2/modindex.tt2

Fix: X-Attach header field was not set for tha message/rfc822 parts. As a result attached messages encoding was corrupted.

------------------------------------------------------------------------
r4120 | olivier.salaun | 2007-01-16 15:47:01 +0100 (Tue, 16 Jan 2007) | 2 lines
Changed paths:
   M /trunk/web_tt2/fr_FR/help_admin.tt2

Fixed encoding, now set to utf-8

------------------------------------------------------------------------
r4119 | olivier.salaun | 2007-01-15 14:26:45 +0100 (Mon, 15 Jan 2007) | 2 lines
Changed paths:
   M /trunk/mail_tt2/remind.tt2

[reported by O.Lacroix] Fix type for transfert_encoding

------------------------------------------------------------------------
r4117 | olivier.salaun | 2006-12-29 17:19:22 +0100 (Fri, 29 Dec 2006) | 2 lines
Changed paths:
   M /trunk/ChangeLog

Update

------------------------------------------------------------------------
r4116 | olivier.salaun | 2006-12-29 10:37:30 +0100 (Fri, 29 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/tools.pl
   M /trunk/wwsympa/wwsympa.fcgi

Change: extend tools::escape_regexp ; use it in 2 more subroutines

------------------------------------------------------------------------
r4115 | olivier.salaun | 2006-12-29 10:33:47 +0100 (Fri, 29 Dec 2006) | 2 lines
Changed paths:
   M /trunk/doc/parse_tex.pl
   M /trunk/src/Commands.pm
   M /trunk/src/Family.pm
   M /trunk/src/List.pm
   M /trunk/src/Task.pm
   M /trunk/src/admin.pm
   M /trunk/src/tools.pl
   M /trunk/wwsympa/archived.pl
   M /trunk/wwsympa/bounced.pl
   M /trunk/wwsympa/wwsympa.fcgi

Change: added "use strict" to tools.pl

------------------------------------------------------------------------
r4114 | olivier.salaun | 2006-12-28 16:51:07 +0100 (Thu, 28 Dec 2006) | 2 lines
Changed paths:
   M /trunk/web_tt2/list_panel.tt2
   M /trunk/wwsympa/wwsympa.fcgi

Added the status of the list to the listpanel if closed or pending

------------------------------------------------------------------------
r4113 | olivier.salaun | 2006-12-28 16:11:56 +0100 (Thu, 28 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/etc/mhonarc-ressources.tt2

[ID 160] Fixed case

------------------------------------------------------------------------
r4112 | olivier.salaun | 2006-12-28 15:37:10 +0100 (Thu, 28 Dec 2006) | 2 lines
Changed paths:
   M /trunk/wwsympa/wwsympa.fcgi

[ID 106] Change: after unsubscription, no more bring the user back to the list page. He might not be allowed to see the info page.

------------------------------------------------------------------------
r4111 | olivier.salaun | 2006-12-28 15:10:49 +0100 (Thu, 28 Dec 2006) | 2 lines
Changed paths:
   M /trunk/wwsympa/wwsympa.fcgi

[ID 106] Change: after unsubscribing, a user is directed to the service home page (instead of the list info page)

------------------------------------------------------------------------
r4110 | olivier.salaun | 2006-12-28 15:01:37 +0100 (Thu, 28 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/List.pm

[ID 117][reported by M.Bernard, univ St.Etienne] Fix: user initial passwords were not crypted when subscribed by list owners. Moved encrypting logic to lower layers.

------------------------------------------------------------------------
r4109 | olivier.salaun | 2006-12-28 13:51:36 +0100 (Thu, 28 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/Lock.pm

Changed debug2 log calls with debug

------------------------------------------------------------------------
r4108 | olivier.salaun | 2006-12-28 12:05:38 +0100 (Thu, 28 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/sympa.pl

Added a warning about filesystem_encoding during the upgrade process

------------------------------------------------------------------------
r4107 | olivier.salaun | 2006-12-28 11:58:57 +0100 (Thu, 28 Dec 2006) | 2 lines
Changed paths:
   M /trunk/Makefile.in

update

------------------------------------------------------------------------
r4106 | olivier.salaun | 2006-12-28 11:57:20 +0100 (Thu, 28 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/List.pm
   M /trunk/src/Upgrade.pm

Change: rebuilding the admin_table while upgrading  to prevent "duplicate entries" errors

------------------------------------------------------------------------
r4105 | olivier.salaun | 2006-12-28 11:34:34 +0100 (Thu, 28 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/Language.pm
   M /trunk/wwsympa/wwsympa.fcgi

[reported by E.Beliveau] made the user lang available in the editsubscriber page

------------------------------------------------------------------------
r4104 | olivier.salaun | 2006-12-28 10:45:02 +0100 (Thu, 28 Dec 2006) | 2 lines
Changed paths:
   M /trunk/wwsympa/wwsympa.fcgi

Use tools::escape::regexp() in do_arc_search_id()

------------------------------------------------------------------------
r4103 | olivier.salaun | 2006-12-28 10:44:27 +0100 (Thu, 28 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/tools.pl

Also escape '*' in regexp

------------------------------------------------------------------------
r4102 | olivier.salaun | 2006-12-28 10:41:15 +0100 (Thu, 28 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/tools.pl

Added '!' and '\' to escaped sequences in regexp

------------------------------------------------------------------------
r4101 | olivier.salaun | 2006-12-22 17:24:50 +0100 (Fri, 22 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/tools.pl

Fix: missing '\'s ; sympa.pl would die with error "Unmatched [ in regex; marked by <-- HERE in m/[ <-- HERE / at - line 4."

------------------------------------------------------------------------
r4100 | olivier.salaun | 2006-12-22 17:05:02 +0100 (Fri, 22 Dec 2006) | 2 lines
Changed paths:
   M /trunk/check_perl_modules.pl
   M /trunk/src/Conf.pm
   M /trunk/src/Lock.pm

[ID 435] [patch provided by Moriwaka] New feature: added support for NFS locking, using File::NFSLock perl module. A new 'lock_method' sympa.conf parameter can be set to 'nfs'.

------------------------------------------------------------------------
r4099 | olivier.salaun | 2006-12-22 16:03:12 +0100 (Fri, 22 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/List.pm

Now lock 'stats' file

------------------------------------------------------------------------
r4098 | olivier.salaun | 2006-12-22 15:39:52 +0100 (Fri, 22 Dec 2006) | 3 lines
Changed paths:
   M /trunk/src/List.pm
   A /trunk/src/Lock.pm
   M /trunk/src/Makefile

Changes: reorganized the file locking procedures. A new perl module does the locking.
Now also perform lock on list 'config' files.

------------------------------------------------------------------------
r4097 | olivier.salaun | 2006-12-21 10:10:01 +0100 (Thu, 21 Dec 2006) | 2 lines
Changed paths:
   M /branches/sympa-5_2-branch/ChangeLog
   M /branches/sympa-5_2-branch/mail_tt2/Makefile
   M /branches/sympa-5_2-branch/wwsympa/wwslib.pm
   M /trunk/mail_tt2/Makefile

[requested by S.Hornburg] Fix: Debian packaging requires that symbolic links are not absolute links because of DESTDIR use.

------------------------------------------------------------------------
r4096 | olivier.salaun | 2006-12-20 14:49:57 +0100 (Wed, 20 Dec 2006) | 2 lines
Changed paths:
   M /trunk/mail_tt2/urlized_part.tt2
   M /trunk/src/List.pm

Added header fields to the urlize part

------------------------------------------------------------------------
r4095 | olivier.salaun | 2006-12-20 14:49:37 +0100 (Wed, 20 Dec 2006) | 2 lines
Changed paths:
   M /trunk/ChangeLog

updated

------------------------------------------------------------------------
r4094 | olivier.salaun | 2006-12-19 15:17:06 +0100 (Tue, 19 Dec 2006) | 2 lines
Changed paths:
   M /trunk/mail_tt2/sendpasswd.tt2
   M /trunk/mail_tt2/sendssopasswd.tt2

[ID 13] no more use sympa-request reply address

------------------------------------------------------------------------
r4093 | olivier.salaun | 2006-12-19 11:57:00 +0100 (Tue, 19 Dec 2006) | 2 lines
Changed paths:
   M /trunk/web_tt2/modindex.tt2

[ID 444] [requested by A.Lund, Uninnett] New feature: added "toggle" button in moderation page

------------------------------------------------------------------------
r4092 | olivier.salaun | 2006-12-18 17:25:54 +0100 (Mon, 18 Dec 2006) | 2 lines
Changed paths:
   M /trunk/web_tt2/subindex.tt2

Better sentence

------------------------------------------------------------------------
r4091 | olivier.salaun | 2006-12-12 16:45:47 +0100 (Tue, 12 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/etc/mhonarc-ressources.tt2

[G.Youger, Univ Newcastle] Fix: archive template was inappropriate for email addresses that include an apostrophe (').

------------------------------------------------------------------------
r4090 | olivier.salaun | 2006-12-12 14:48:46 +0100 (Tue, 12 Dec 2006) | 2 lines
Changed paths:
   M /trunk/wwsympa/wwslib.pm

Removed dead code (encyrpt_password() and decrypt_password() were duplicated)

------------------------------------------------------------------------
r4089 | olivier.salaun | 2006-12-12 14:45:50 +0100 (Tue, 12 Dec 2006) | 2 lines
Changed paths:
   M /trunk/wwsympa/wwsympa.fcgi

Moved log at the right place ; about password allocation

------------------------------------------------------------------------
r4088 | olivier.salaun | 2006-12-12 14:29:45 +0100 (Tue, 12 Dec 2006) | 2 lines
Changed paths:
   M /trunk/wwsympa/wwslib.pm

Fix typo

------------------------------------------------------------------------
r4087 | olivier.salaun | 2006-12-12 13:43:13 +0100 (Tue, 12 Dec 2006) | 2 lines
Changed paths:
   M /trunk/po/eu.po

Update, based on POT file

------------------------------------------------------------------------
r4086 | olivier.salaun | 2006-12-12 13:42:35 +0100 (Tue, 12 Dec 2006) | 2 lines
Changed paths:
   M /trunk/po/Makefile
   A /trunk/po/eu.po

[Piarres Beobide]Strarting Basque translation

------------------------------------------------------------------------
r4085 | olivier.salaun | 2006-12-11 11:48:49 +0100 (Mon, 11 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/List.pm

[S.Ikeda] [ID 1396] Fix: A bug relating this patch: ASCII-only subjects are unfolded then can become one long line.

------------------------------------------------------------------------
r4084 | olivier.salaun | 2006-12-11 11:01:40 +0100 (Mon, 11 Dec 2006) | 2 lines
Changed paths:
   M /trunk/po/sympa.pot

Updated POT file

------------------------------------------------------------------------
r4083 | olivier.salaun | 2006-12-11 10:50:55 +0100 (Mon, 11 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/etc/mhonarc-ressources.tt2

[S.Ikeda] [ID 1393] Fix: added more translatable items to mhonarc-resources.tt2

------------------------------------------------------------------------
r4082 | olivier.salaun | 2006-12-11 10:41:08 +0100 (Mon, 11 Dec 2006) | 10 lines
Changed paths:
   M /trunk/src/List.pm
   M /trunk/src/mail.pm
   M /trunk/src/tt2.pl

[S.Ikeda] [ID 1396] Fix: Body or subject header were occationally empty.
Reproduced by: Sympa CVS HEAD with Encode 2.08.
Not reproduced by: Sympa CVS HEAD with Encode 2.12, 2.18.

- Body of service message is removed at all when its source contains non-UTF-8-compliant sequence.
- Subject body of distributed message is removed when original subject contains unencoded non-ASCII sequence.

It may be caused by a bug in Encode module, RT#8872:
   http://rt.cpan.org/Public/Bug/Display.html?id=8872

------------------------------------------------------------------------
r4081 | olivier.salaun | 2006-12-08 17:49:44 +0100 (Fri, 08 Dec 2006) | 2 lines
Changed paths:
   M /trunk/web_tt2/css.tt2
   M /trunk/web_tt2/list_menu.tt2
   M /trunk/web_tt2/list_panel.tt2

Change: moved "contact owners" link into the list_panel

------------------------------------------------------------------------
r4080 | olivier.salaun | 2006-12-08 15:33:37 +0100 (Fri, 08 Dec 2006) | 5 lines
Changed paths:
   M /trunk/src/List.pm

Fix: Sympa would fail encoding mail subjects that were not originaly encoded. The bug only appeared while using custom_subject.
MUA should encode mail subject but don't all do it (home-made scripts or user agents like Eudora 6). In such situations Sympa should
either leave the subject uncoded OR encode it. Encoding such header fields is not an easy job because we don't know what encoding was used
by the mail client.

------------------------------------------------------------------------
r4079 | olivier.salaun | 2006-12-08 15:09:39 +0100 (Fri, 08 Dec 2006) | 2 lines
Changed paths:
   M /trunk/po/fr.po

[O.Lacroix, Ciril] Fixed a few French typos

------------------------------------------------------------------------
r4078 | olivier.salaun | 2006-12-07 17:30:26 +0100 (Thu, 07 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/SQLSource.pm

Fix: set SQL client preference regarding character encoding to UTF8. Otherwise we can't determine how data got from SQL is encoded.

------------------------------------------------------------------------
r4075 | olivier.salaun | 2006-12-07 14:28:26 +0100 (Thu, 07 Dec 2006) | 2 lines
Changed paths:
   M /trunk/ChangeLog

Updated

------------------------------------------------------------------------
r4074 | olivier.salaun | 2006-12-05 13:36:19 +0100 (Tue, 05 Dec 2006) | 3 lines
Changed paths:
   M /trunk/src/List.pm
   M /trunk/src/tools.pl
   M /trunk/wwsympa/wwsympa.fcgi

Change: New tools::escape_regexp() subroutine.
Now escaping topics keywords before searching messages

------------------------------------------------------------------------
r4073 | olivier.salaun | 2006-12-04 14:04:15 +0100 (Mon, 04 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/List.pm

Fixes: topics related, remove unuseful error logs ; contact owners if no owner was defined

------------------------------------------------------------------------
r4072 | olivier.salaun | 2006-12-04 13:26:16 +0100 (Mon, 04 Dec 2006) | 2 lines
Changed paths:
   M /branches/sympa-5_2-branch/src/List.pm
   M /trunk/src/List.pm

[J.Schmalenbach, Barrett] Fix: empty 'get_subscriber' when removing a list member

------------------------------------------------------------------------
r4071 | olivier.salaun | 2006-12-01 15:57:57 +0100 (Fri, 01 Dec 2006) | 2 lines
Changed paths:
   M /trunk/src/admin.pm

Fix: use filesystem_encoding when creating new list config and info files

------------------------------------------------------------------------
r4070 | olivier.salaun | 2006-12-01 09:31:12 +0100 (Fri, 01 Dec 2006) | 2 lines
Changed paths:
   M /trunk/web_tt2/fr_FR/help_listconfig.tt2

Fix link to help/admin

------------------------------------------------------------------------
r4069 | olivier.salaun | 2006-12-01 09:21:52 +0100 (Fri, 01 Dec 2006) | 2 lines
Changed paths:
   M /trunk/po/ja.po

[S.Ikeda] Updated Japanese catalog

------------------------------------------------------------------------
r4068 | olivier.salaun | 2006-11-30 17:35:49 +0100 (Thu, 30 Nov 2006) | 2 lines
Changed paths:
   M /trunk/po/sympa.pot

Updated with new date formats

------------------------------------------------------------------------
r4067 | olivier.salaun | 2006-11-30 17:34:17 +0100 (Thu, 30 Nov 2006) | 2 lines
Changed paths:
   M /trunk/po/xgettext.pl

Chnage: add date comment if locdt

------------------------------------------------------------------------
r4066 | olivier.salaun | 2006-11-30 16:51:49 +0100 (Thu, 30 Nov 2006) | 5 lines
Changed paths:
   M /trunk/po/xgettext.pl
   M /trunk/src/etc/mhonarc-ressources.tt2
   M /trunk/src/tt2.pl

[ID 1338][S.Ikeda] New feature: A new filter [%|locdt()%] is added for TT2 templates to format date/time according to language context.  It takes a format string to be gettext'ized as main argument, and an extra argument representing date/time.  MHonArc resource file
was modified so that it may generate output including this filter spec as nessessity.

Note that this spec will be available for newly-updated archives.  To apply this improvement to all past archives, it is nessessary that all archives are rebuilt.

------------------------------------------------------------------------
r4065 | olivier.salaun | 2006-11-30 14:10:05 +0100 (Thu, 30 Nov 2006) | 2 lines
Changed paths:
   M /trunk/po/sympa.pot

Updated with date format entries

------------------------------------------------------------------------
r4064 | olivier.salaun | 2006-11-30 14:09:47 +0100 (Thu, 30 Nov 2006) | 3 lines
Changed paths:
   M /trunk/po/xgettext.pl

Changes: restored collecting of date format entries
Added a developer comment about date formats for translators

------------------------------------------------------------------------
r4062 | olivier.salaun | 2006-11-29 17:41:34 +0100 (Wed, 29 Nov 2006) | 2 lines
Changed paths:
   M /trunk/src/Language.pm

Change: renamed dgettext() to sympa_dgettext() to prevent conflicts with the orignal one

------------------------------------------------------------------------
r4061 | olivier.salaun | 2006-11-29 17:31:48 +0100 (Wed, 29 Nov 2006) | 3 lines
Changed paths:
   M /trunk/src/Log.pm

Fix: moved calls to Encode::from_to() deaper in the subroutine to prevent unneeded calls.
Otherwise this could degrade performences

------------------------------------------------------------------------
r4060 | olivier.salaun | 2006-11-29 15:58:42 +0100 (Wed, 29 Nov 2006) | 2 lines
Changed paths:
   M /trunk/web_tt2/fr_FR/help.tt2
   M /trunk/web_tt2/fr_FR/help_arc.tt2
   M /trunk/web_tt2/fr_FR/help_faqadmin.tt2
   M /trunk/web_tt2/fr_FR/help_faquser.tt2
   M /trunk/web_tt2/fr_FR/help_introduction.tt2
   M /trunk/web_tt2/fr_FR/help_listconfig.tt2
   M /trunk/web_tt2/fr_FR/help_mail_commands.tt2
   M /trunk/web_tt2/fr_FR/help_sendmsg.tt2
   M /trunk/web_tt2/fr_FR/help_shared.tt2
   M /trunk/web_tt2/fr_FR/help_user.tt2

Fix: recoded all files to UTF-8

------------------------------------------------------------------------
r4059 | olivier.salaun | 2006-11-29 14:57:22 +0100 (Wed, 29 Nov 2006) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/NEWS

Preparing sympa 5.3b.1

------------------------------------------------------------------------
r4058 | olivier.salaun | 2006-11-29 11:42:12 +0100 (Wed, 29 Nov 2006) | 2 lines
Changed paths:
   M /trunk/src/Ldap.pm

[requested by E.Beliveau] New feature: allow folded lines in ldap filters (using '\')

------------------------------------------------------------------------
r4057 | olivier.salaun | 2006-11-29 11:38:58 +0100 (Wed, 29 Nov 2006) | 2 lines
Changed paths:
   M /trunk/po/sympa.pot

Update

------------------------------------------------------------------------
r4056 | olivier.salaun | 2006-11-29 11:02:39 +0100 (Wed, 29 Nov 2006) | 2 lines
Changed paths:
   M /trunk/web_tt2/remove_arc.tt2

Fixed typo

------------------------------------------------------------------------
r4055 | olivier.salaun | 2006-11-28 16:06:01 +0100 (Tue, 28 Nov 2006) | 2 lines
Changed paths:
   M /trunk/po/xgettext.pl

Change: added add_expression() subroutine to ease changes of sort order in the future

------------------------------------------------------------------------
r4054 | olivier.salaun | 2006-11-28 14:10:51 +0100 (Tue, 28 Nov 2006) | 2 lines
Changed paths:
   M /trunk/po/fr.po

Updated missing translations

------------------------------------------------------------------------
r4053 | olivier.salaun | 2006-11-28 14:06:20 +0100 (Tue, 28 Nov 2006) | 2 lines
Changed paths:
   M /trunk/web_tt2/serveradmin.tt2

removed isolated 'or'

------------------------------------------------------------------------
r4052 | olivier.salaun | 2006-11-28 14:04:45 +0100 (Tue, 28 Nov 2006) | 2 lines
Changed paths:
   M /trunk/web_tt2/modindex.tt2
   M /trunk/web_tt2/sigrequest.tt2

typo

------------------------------------------------------------------------
r4051 | olivier.salaun | 2006-11-28 13:45:29 +0100 (Tue, 28 Nov 2006) | 2 lines
Changed paths:
   M /trunk/src/List.pm

Remove tests

------------------------------------------------------------------------
r4050 | olivier.salaun | 2006-11-28 11:03:32 +0100 (Tue, 28 Nov 2006) | 2 lines
Changed paths:
   M /trunk/web_tt2/review.tt2

Missing tagged string

------------------------------------------------------------------------
r4049 | olivier.salaun | 2006-11-28 10:48:28 +0100 (Tue, 28 Nov 2006) | 2 lines
Changed paths:
   M /trunk/po/Makefile
   M /trunk/po/bg.po
   M /trunk/po/cs.po
   M /trunk/po/de.po
   M /trunk/po/el.po
   M /trunk/po/en_US.po
   M /trunk/po/es.po
   M /trunk/po/et.po
   M /trunk/po/fi.po
   M /trunk/po/fr.po
   M /trunk/po/hu.po
   M /trunk/po/it.po
   M /trunk/po/ja.po
   M /trunk/po/nb_NO.po
   M /trunk/po/nl.po
   M /trunk/po/oc.po
   M /trunk/po/pl.po
   M /trunk/po/pt.po
   M /trunk/po/pt_BR.po
   M /trunk/po/ro.po
   M /trunk/po/ru.po
   M /trunk/po/sv.po
   M /trunk/po/sympa.pot
   M /trunk/po/tr.po
   M /trunk/po/zh_CN.po

Updated POT and PO files

------------------------------------------------------------------------
r4048 | olivier.salaun | 2006-11-28 10:46:04 +0100 (Tue, 28 Nov 2006) | 2 lines
Changed paths:
   M /trunk/po/xgettext.pl

Fix: Date formats should not be collected to build sympa.pot

------------------------------------------------------------------------
r4047 | olivier.salaun | 2006-11-27 17:01:19 +0100 (Mon, 27 Nov 2006) | 2 lines
Changed paths:
   M /trunk/ChangeLog

update

------------------------------------------------------------------------
r4046 | olivier.salaun | 2006-11-27 17:00:35 +0100 (Mon, 27 Nov 2006) | 2 lines
Changed paths:
   M /trunk/po/bg.po
   M /trunk/po/cs.po
   M /trunk/po/de.po
   M /trunk/po/el.po
   M /trunk/po/en_US.po
   M /trunk/po/es.po
   M /trunk/po/et.po
   M /trunk/po/fi.po
   M /trunk/po/fr.po
   M /trunk/po/hu.po
   M /trunk/po/it.po
   M /trunk/po/ja.po
   M /trunk/po/nb_NO.po
   M /trunk/po/nl.po
   M /trunk/po/oc.po
   M /trunk/po/pl.po
   M /trunk/po/pt.po
   M /trunk/po/pt_BR.po
   M /trunk/po/ro.po
   M /trunk/po/ru.po
   M /trunk/po/sv.po
   M /trunk/po/sympa.pot
   M /trunk/po/tr.po
   M /trunk/po/zh_CN.po

Updated POT and PO files

------------------------------------------------------------------------
r4045 | olivier.salaun | 2006-11-27 10:06:05 +0100 (Mon, 27 Nov 2006) | 2 lines
Changed paths:
   M /trunk/src/tt2.pl

Added code to determine the current template full path in maketext()

------------------------------------------------------------------------
r4044 | olivier.salaun | 2006-11-24 14:25:03 +0100 (Fri, 24 Nov 2006) | 2 lines
Changed paths:
   M /trunk/po/Makefile
   M /trunk/src/Language.pm
   M /trunk/src/tt2.pl

Prepare code to split catalog into many (mail_user, mail_admin, web_user,web_admin,web_help)

------------------------------------------------------------------------
r4043 | olivier.salaun | 2006-11-24 09:40:14 +0100 (Fri, 24 Nov 2006) | 2 lines
Changed paths:
   M /trunk/src/Upgrade.pm

[reported by J.Schmalenbach] Fix: qualify send_notify_to_listmaster() call

------------------------------------------------------------------------
r4042 | olivier.salaun | 2006-11-23 17:59:34 +0100 (Thu, 23 Nov 2006) | 2 lines
Changed paths:
   M /trunk/po/fr.po

Change: renamed vignette ti avatar

------------------------------------------------------------------------
r4041 | olivier.salaun | 2006-11-23 17:04:03 +0100 (Thu, 23 Nov 2006) | 2 lines
Changed paths:
   M /trunk/po/fr.po

Updated French translations

------------------------------------------------------------------------
r4040 | olivier.salaun | 2006-11-23 15:07:27 +0100 (Thu, 23 Nov 2006) | 2 lines
Changed paths:
   M /trunk/mail_tt2/authorization_reject.tt2
   M /trunk/mail_tt2/listmaster_notification.tt2
   M /trunk/web_tt2/get_inactive_lists.tt2
   M /trunk/web_tt2/picture_upload.tt2
   M /trunk/web_tt2/review.tt2
   M /trunk/web_tt2/viewlogs.tt2

Fixed a few strings

------------------------------------------------------------------------
r4039 | olivier.salaun | 2006-11-23 15:07:01 +0100 (Thu, 23 Nov 2006) | 2 lines
Changed paths:
   M /trunk/src/sympa.pl
   M /trunk/src/tools.pl

Fix: files in the msg/ spool were processed according to the file name (abbb before zbbb). now use the date as the sort criteria

------------------------------------------------------------------------
r4038 | olivier.salaun | 2006-11-23 09:39:47 +0100 (Thu, 23 Nov 2006) | 2 lines
Changed paths:
   M /trunk/src/List.pm

Change: call to close() from purge()

------------------------------------------------------------------------
r4037 | olivier.salaun | 2006-11-22 15:28:36 +0100 (Wed, 22 Nov 2006) | 2 lines
Changed paths:
   M /trunk/po/Makefile
   M /trunk/po/de.po
   M /trunk/po/es.po
   M /trunk/po/et.po
   M /trunk/po/fi.po
   M /trunk/po/fr.po
   M /trunk/po/hu.po
   M /trunk/po/it.po
   M /trunk/po/nl.po
   M /trunk/po/oc.po
   M /trunk/po/pl.po
   M /trunk/po/ro.po
   D /trunk/po/zh_TW.po

Change: remove Chinese/Taiwan catalog that was out of date and could not be transformed to UTF-8

------------------------------------------------------------------------
r4036 | serge.aumont | 2006-11-22 15:17:20 +0100 (Wed, 22 Nov 2006) | 4 lines
Changed paths:
   M /trunk/src/List.pm



purge_list now try to remove aliases

------------------------------------------------------------------------
r4035 | olivier.salaun | 2006-11-22 15:06:35 +0100 (Wed, 22 Nov 2006) | 2 lines
Changed paths:
   M /trunk/po/bg.po
   M /trunk/po/de.po
   M /trunk/po/en_US.po
   M /trunk/po/es.po
   M /trunk/po/ja.po
   M /trunk/po/nb_NO.po
   M /trunk/po/pt.po
   M /trunk/po/pt_BR.po
   M /trunk/po/ru.po

Merged PO filed with POT

------------------------------------------------------------------------
r4034 | serge.aumont | 2006-11-22 15:02:29 +0100 (Wed, 22 Nov 2006) | 3 lines
Changed paths:
   M /trunk/doc/man8/sympa.pod
   M /trunk/src/List.pm
   M /trunk/src/sympa.pl


new Sympa.pl option : sympa.pl --purge_list <list>@<robot>

------------------------------------------------------------------------
r4033 | olivier.salaun | 2006-11-22 14:59:10 +0100 (Wed, 22 Nov 2006) | 2 lines
Changed paths:
   M /trunk/po/Makefile
   A /trunk/po/bg.po
   M /trunk/po/de.po
   M /trunk/po/es.po
   M /trunk/po/ja.po
   M /trunk/po/nb_NO.po
   M /trunk/po/pt.po
   M /trunk/po/pt_BR.po
   A /trunk/po/ru.po
   M /trunk/src/Language.pm

Updated translations from Rosetta ; added Russian and Bulgarian PO files

------------------------------------------------------------------------
r4032 | olivier.salaun | 2006-11-22 13:48:23 +0100 (Wed, 22 Nov 2006) | 5 lines
Changed paths:
   M /trunk/mail_tt2/archive.tt2
   M /trunk/mail_tt2/bye.tt2
   M /trunk/mail_tt2/certif_warning.tt2
   M /trunk/mail_tt2/command_report.tt2
   M /trunk/mail_tt2/d_install_shared.tt2
   M /trunk/mail_tt2/d_reject_shared.tt2
   M /trunk/mail_tt2/digest.tt2
   M /trunk/mail_tt2/digest_plain.tt2
   M /trunk/mail_tt2/expire_deletion.tt2
   M /trunk/mail_tt2/expire_warning1.tt2
   M /trunk/mail_tt2/expire_warning2.tt2
   M /trunk/mail_tt2/get_archive.tt2
   M /trunk/mail_tt2/global_remind.tt2
   M /trunk/mail_tt2/helpfile.tt2
   M /trunk/mail_tt2/index_archive.tt2
   M /trunk/mail_tt2/info_report.tt2
   M /trunk/mail_tt2/invite.tt2
   M /trunk/mail_tt2/list_created.tt2
   M /trunk/mail_tt2/list_rejected.tt2
   M /trunk/mail_tt2/list_unknown.tt2
   M /trunk/mail_tt2/listeditor_notification.tt2
   M /trunk/mail_tt2/listmaster_notification.tt2
   M /trunk/mail_tt2/listowner_notification.tt2
   M /trunk/mail_tt2/lists.tt2
   M /trunk/mail_tt2/message_report.tt2
   M /trunk/mail_tt2/moderate.tt2
   M /trunk/mail_tt2/modindex.tt2
   M /trunk/mail_tt2/reject.tt2
   M /trunk/mail_tt2/remind.tt2
   M /trunk/mail_tt2/removed.tt2
   M /trunk/mail_tt2/request_auth.tt2
   M /trunk/mail_tt2/review.tt2
   M /trunk/mail_tt2/send_auth.tt2
   M /trunk/mail_tt2/sendpasswd.tt2
   M /trunk/mail_tt2/stats_report.tt2
   M /trunk/mail_tt2/summary.tt2
   M /trunk/mail_tt2/user_notification.tt2
   M /trunk/mail_tt2/welcome.tt2
   M /trunk/mail_tt2/which.tt2
   M /trunk/mail_tt2/x509-user-cert-missing.tt2
   M /trunk/mail_tt2/your_infected_msg.tt2
   M /trunk/soap/sympasoap.pm
   M /trunk/src/Language.pm
   M /trunk/src/List.pm
   M /trunk/src/mail.pm
   M /trunk/src/tt2.pl

Change: no more use encoding defined in PO files to determine charset for messages.
We now use the charsets defined in Language.pm instead.
We now use [% charset %] in mail_tt2 files and &Language::GetCharset() in the code
These changes will make it easier to mode all PO files to UTF-8

------------------------------------------------------------------------
r4031 | olivier.salaun | 2006-11-22 13:45:40 +0100 (Wed, 22 Nov 2006) | 2 lines
Changed paths:
   M /trunk/ChangeLog

update

------------------------------------------------------------------------
r4030 | olivier.salaun | 2006-11-22 10:28:54 +0100 (Wed, 22 Nov 2006) | 2 lines
Changed paths:
   M /trunk/web_tt2/rss.tt2

Fix: RSS feed encoding was incorrect

------------------------------------------------------------------------
r4029 | olivier.salaun | 2006-11-21 17:53:57 +0100 (Tue, 21 Nov 2006) | 2 lines
Changed paths:
   M /trunk/src/Log.pm

Change: Skip transcoding if filesystem_encoding is not defined

------------------------------------------------------------------------
r4028 | olivier.salaun | 2006-11-21 17:53:15 +0100 (Tue, 21 Nov 2006) | 2 lines
Changed paths:
   M /trunk/doc/html/index.html
   M /trunk/doc/html/node1.html
   M /trunk/doc/html/node10.html
   M /trunk/doc/html/node11.html
   M /trunk/doc/html/node12.html
   M /trunk/doc/html/node13.html
   M /trunk/doc/html/node14.html
   M /trunk/doc/html/node15.html
   M /trunk/doc/html/node16.html
   M /trunk/doc/html/node17.html
   M /trunk/doc/html/node18.html
   M /trunk/doc/html/node19.html
   M /trunk/doc/html/node2.html
   M /trunk/doc/html/node20.html
   M /trunk/doc/html/node21.html
   M /trunk/doc/html/node22.html
   M /trunk/doc/html/node23.html
   M /trunk/doc/html/node24.html
   M /trunk/doc/html/node25.html
   M /trunk/doc/html/node26.html
   M /trunk/doc/html/node27.html
   M /trunk/doc/html/node28.html
   M /trunk/doc/html/node29.html
   M /trunk/doc/html/node3.html
   M /trunk/doc/html/node30.html
   M /trunk/doc/html/node31.html
   M /trunk/doc/html/node4.html
   M /trunk/doc/html/node5.html
   M /trunk/doc/html/node6.html
   M /trunk/doc/html/node7.html
   M /trunk/doc/html/node8.html
   M /trunk/doc/html/node9.html
   M /trunk/doc/html/sympa.html
   M /trunk/doc/html/sympa.ps
   M /trunk/doc/parse_tex.pl
   M /trunk/doc/sympa.pdf
   M /trunk/doc/sympa.ps
   M /trunk/doc/sympa.tex

Fixed incorrect d_read scenario

------------------------------------------------------------------------
r4027 | olivier.salaun | 2006-11-21 17:27:09 +0100 (Tue, 21 Nov 2006) | 2 lines
Changed paths:
   M /trunk/src/tools.pl
   M /trunk/wwsympa/wwsympa.fcgi

Fix: shift all wwsympa outgoing parameters to utf8 if they were Perl unicode

------------------------------------------------------------------------
r4026 | olivier.salaun | 2006-11-21 15:44:20 +0100 (Tue, 21 Nov 2006) | 3 lines
Changed paths:
   M /trunk/src/tools.pl

Fix: when encoding shared filenames, tranform the qencoded strings from Unicode to uf-8.
This is required otherwise output HTML mixes encodings and breaks all encoded strings

------------------------------------------------------------------------
r4025 | olivier.salaun | 2006-11-21 12:01:03 +0100 (Tue, 21 Nov 2006) | 26 lines
Changed paths:
   M /trunk/check_perl_modules.pl
   M /trunk/src/Archive.pm
   M /trunk/src/Commands.pm
   M /trunk/src/Language.pm
   M /trunk/src/List.pm
   M /trunk/src/Log.pm
   M /trunk/src/Message.pm
   M /trunk/src/etc/topics.conf
   M /trunk/src/mail.pm
   M /trunk/src/tools.pl
   M /trunk/src/tt2.pl
   M /trunk/wwsympa/wwsympa.fcgi

[ID 1271][S.Ikeda] [patch sympa-MAIN-20061118-unicode_to_utf8.patch]
Change: changes have been made to switch from Perl Unicode to UTF-8:
- read raw config files then to convert them to UTF-8.
- change Language::gettext()'s output from Unicode to UTF-8.
- remove Template::Directive::OUTPUT hack (see src/tt2.pl).
- disable PerlIO layer on wwsympa.fcgi.

- Message headers should be decoded to UTF-8 for templates.
- Following functions accept Unicode string so that they determine
  appropriate charset / encoding:
    MIME::EncWords::encode_mimewords()
    MIME::Charset::body_encode()
- Log content should be encoded to be filesystem encoding.
- Shared file names should be handled by UTF-8.
- Miscelaneous:
- Perl module updates (for bug fixes).
- Now topics.conf may also be encoded to UTF-8.
- HTTP Date: header should be formatted by neutral locale.
- Archive subjects had been encoded to UTF-8 by MHonArc.

Other changes :
  - Perl module updates (for bug fixes).
  - Now topics.conf may also be encoded to UTF-8.
  - HTTP Date: header should be formatted by neutral locale.
  - Archive subjects had been encoded to UTF-8 by MHonArc.

------------------------------------------------------------------------
r4024 | olivier.salaun | 2006-11-21 10:47:57 +0100 (Tue, 21 Nov 2006) | 2 lines
Changed paths:
   M /trunk/src/mail.pm

Fix: Incorrect handling of empty header fields, could result in duplicate header fields

------------------------------------------------------------------------
r4023 | olivier.salaun | 2006-11-17 11:19:07 +0100 (Fri, 17 Nov 2006) | 2 lines
Changed paths:
   M /trunk/soap/sympa.wsdl

[BugID 1262][O.Duval] Fix: missing sections in Binding for add, del and closeList

------------------------------------------------------------------------
r4022 | olivier.salaun | 2006-11-16 12:11:15 +0100 (Thu, 16 Nov 2006) | 2 lines
Changed paths:
   M /trunk/web_tt2/error.tt2
   M /trunk/wwsympa/Auth.pm
   M /trunk/wwsympa/wwsympa.fcgi

[BugID 285][reported by M.Verove, Atos Origin]Fix: no more allow password reminder if regexp doesn't match user email

------------------------------------------------------------------------
r4021 | olivier.salaun | 2006-11-16 11:19:10 +0100 (Thu, 16 Nov 2006) | 2 lines
Changed paths:
   M /trunk/check_perl_modules.pl

Change: replaced install with 3 operations make, test and install

------------------------------------------------------------------------
r4020 | olivier.salaun | 2006-11-16 10:47:33 +0100 (Thu, 16 Nov 2006) | 2 lines
Changed paths:
   M /branches/sympa-5_2-branch/check_perl_modules.pl
   M /trunk/check_perl_modules.pl

Fix: inactivity_timeout was not set

------------------------------------------------------------------------
r4019 | olivier.salaun | 2006-11-15 14:00:29 +0100 (Wed, 15 Nov 2006) | 2 lines
Changed paths:
   M /trunk/web_tt2/help.tt2

Fixed buggy template (merge problem + ^M)

------------------------------------------------------------------------
r4018 | olivier.salaun | 2006-11-15 10:44:36 +0100 (Wed, 15 Nov 2006) | 2 lines
Changed paths:
   M /trunk/po/en_US.po

Based on sympa.pot

------------------------------------------------------------------------
r4017 | olivier.salaun | 2006-11-15 10:38:33 +0100 (Wed, 15 Nov 2006) | 2 lines
Changed paths:
   M /trunk/web_tt2/sso_login.tt2

Fix: removed one [% END %]

------------------------------------------------------------------------
r4016 | olivier.salaun | 2006-11-14 17:47:29 +0100 (Tue, 14 Nov 2006) | 2 lines
Changed paths:
   M /branches/sympa-5_2-branch/web_tt2/login_menu.tt2
   M /trunk/web_tt2/login_menu.tt2

[reported by R.Cadwell] Fix: "forgot password" and "first password" buttons were shown regardless of auth.conf

------------------------------------------------------------------------
r4015 | olivier.salaun | 2006-11-14 14:06:59 +0100 (Tue, 14 Nov 2006) | 2 lines
Changed paths:
   M /trunk/po/en_US.po

Update: revision from Jill Gemmill have been reported down to templates. en_US.po has been reset (with sympa.pot)

------------------------------------------------------------------------
r4014 | olivier.salaun | 2006-11-14 12:03:26 +0100 (Tue, 14 Nov 2006) | 2 lines
Changed paths:
   M /trunk/web_tt2/help_admin.tt2
   A /trunk/web_tt2/help_arc.tt2
   A /trunk/web_tt2/help_faqadmin.tt2
   A /trunk/web_tt2/help_faquser.tt2
   A /trunk/web_tt2/help_introduction.tt2
   A /trunk/web_tt2/help_listconfig.tt2
   A /trunk/web_tt2/help_mail_commands.tt2
   A /trunk/web_tt2/help_sendmsg.tt2
   A /trunk/web_tt2/help_shared.tt2
   A /trunk/web_tt2/help_user.tt2

[V.Paitrault, CRU] New feature: translated online user/admin help to English

------------------------------------------------------------------------
r4013 | olivier.salaun | 2006-11-14 12:00:03 +0100 (Tue, 14 Nov 2006) | 2 lines
Changed paths:
   M /trunk/web_tt2/css.tt2

[V.Paitrault, CRU]Fixed a few problems with CSS and online help

------------------------------------------------------------------------
r4012 | olivier.salaun | 2006-11-14 11:34:08 +0100 (Tue, 14 Nov 2006) | 2 lines
Changed paths:
   M /trunk/web_tt2/fr_FR/help_admin.tt2
   M /trunk/web_tt2/fr_FR/help_arc.tt2
   M /trunk/web_tt2/fr_FR/help_faqadmin.tt2
   M /trunk/web_tt2/fr_FR/help_faquser.tt2
   M /trunk/web_tt2/fr_FR/help_listconfig.tt2
   M /trunk/web_tt2/fr_FR/help_mail_commands.tt2
   M /trunk/web_tt2/fr_FR/help_shared.tt2
   M /trunk/web_tt2/fr_FR/help_user.tt2

[V.Paitrault, CRU] Updated online help

------------------------------------------------------------------------
r4011 | olivier.salaun | 2006-11-14 10:31:34 +0100 (Tue, 14 Nov 2006) | 2 lines
Changed paths:
   D /branches/sympa-5_2-branch/src/etc/script/load_subscribers.pl
   D /trunk/src/etc/script/load_subscribers.pl

Removed obsolete script

------------------------------------------------------------------------
r4010 | olivier.salaun | 2006-11-13 15:41:00 +0100 (Mon, 13 Nov 2006) | 2 lines
Changed paths:
   M /branches/sympa-5_2-branch/src/List.pm
   M /trunk/src/List.pm

[A.Zamboni, Univ Strasbourg] Fix: sort by subscriber name failed with Pg

------------------------------------------------------------------------
r4009 | serge.aumont | 2006-11-07 15:44:28 +0100 (Tue, 07 Nov 2006) | 2 lines
Changed paths:
   M /trunk/web_tt2/edit_list_request.tt2

Fix missing form input attribut 'multiple'. Because of this bug parameter digest and avalaible_user_option may habe been corrupted

------------------------------------------------------------------------
r4008 | sympa-authors | 2006-11-06 14:15:35 +0100 (Mon, 06 Nov 2006) | 8 lines
Changed paths:
   M /trunk/po/xgettext.pl

[Soji Ikeda] Modification on xgettext.pl aims to pick up format arguments  of
gettext_strftime, a new function introduced by remainder of the
patch, and to take it into PO catalogs.  It may recognize following
patterns in Perl sources ---

    gettext_strftime "FORMAT", ARRAY...
    gettext_strftime("FORMAT", ARRAY...)

------------------------------------------------------------------------
r4007 | sympa-authors | 2006-11-06 14:11:20 +0100 (Mon, 06 Nov 2006) | 41 lines
Changed paths:
   M /trunk/mail_tt2/archive.tt2
   M /trunk/mail_tt2/digest.tt2
   M /trunk/mail_tt2/get_archive.tt2
   M /trunk/mail_tt2/listmaster_notification.tt2
   M /trunk/mail_tt2/moderate.tt2
   M /trunk/mail_tt2/request_auth.tt2
   M /trunk/mail_tt2/send_auth.tt2
   M /trunk/src/Commands.pm
   M /trunk/src/List.pm
   M /trunk/src/mail.pm

[Soji Ikeda] Fix: Some paths of message processing in Sympa can't recognize
Unicode strings.  At least MIME::Parser::parse_data() and
Template::proccess(): these methods occationalily break
strings containing Unicode characters.

My mail_utf8 patch expects the behavior as following ---

Sub-messages to be attached (into digests, moderation
notices etc.) will passed to mail::reformat_message()
separately then attached to reformatted parent message
again.  As a result, sub-messages won't be broken.  Since
they won't cause mixture of Unicode string (parent message
generated by tt2::parse_tt2()) and byte string (sub-messages).

Note: For compatibility with old style, data passed to
mail::reformat_message() already includes sub-message(s).  Then:
- When a part has an `X-Sympa-Attach:' header field for
internal use, new style, mail::reformat_message() attaches
raw sub-message to reformatted parent message again;
- When a part doesn't have any `X-Sympa-Attach:' header
fields, sub-messages generated by [% INSERT %] directive(s)
in the template will be used.
See src/mail.pm hunk #4.

More Note: Latter behavior above will give expected result
only if contents of sub-messages are US-ASCII or ISO-8859-1.
In other cases customized templates (if any) should be
modified so that they have appropriate `X-Sympa-Attach:'
header fileds.

Sub-messages are gathered from template context paramenters.
  See src/mail.pm hunk #1.

Other trivial fixes:
  mail_tt2/listmaster_notification.tt2 hunk #1
  mail_tt2/request_auth.tt2
  src/Commands.pm: informations of list in INFO message will
be translated.
  src/mail.pm hunk #5: fallback to UTF-8 when locale of user
was not same as that of list.

------------------------------------------------------------------------
r4005 | sympa-authors | 2006-11-06 11:01:45 +0100 (Mon, 06 Nov 2006) | 2 lines
Changed paths:
   M /trunk/doc/sympa.tex.tpl

typo

------------------------------------------------------------------------
r4004 | sympa-authors | 2006-11-06 10:59:56 +0100 (Mon, 06 Nov 2006) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/NEWS

release 5.3a.10

------------------------------------------------------------------------
r4003 | sympa-authors | 2006-11-06 09:47:24 +0100 (Mon, 06 Nov 2006) | 2 lines
Changed paths:
   M /trunk/doc/sympa.tex.tpl

Rephrased openssl documentation

------------------------------------------------------------------------
r4002 | sympa-authors | 2006-11-06 09:29:06 +0100 (Mon, 06 Nov 2006) | 2 lines
Changed paths:
   M /trunk/wwsympa/wwsympa.fcgi

Fix: Escape '&' first in do_arcsearch_id(), otherwise - is double-escaped

------------------------------------------------------------------------
r4001 | sympa-authors | 2006-11-03 17:08:43 +0100 (Fri, 03 Nov 2006) | 2 lines
Changed paths:
   M /trunk/wwsympa/wwsympa.fcgi

Fix: arcsearch_id would fail if message-id contained '&' because mhonarc encodes it in HTML messages.

------------------------------------------------------------------------
r4000 | sympa-authors | 2006-11-03 16:17:44 +0100 (Fri, 03 Nov 2006) | 2 lines
Changed paths:
   M /trunk/src/Commands.pm
   M /trunk/src/Family.pm
   M /trunk/src/Language.pm
   M /trunk/src/List.pm
   M /trunk/src/admin.pm
   M /trunk/wwsympa/wwsympa.fcgi

[S.Ikeda] Fix: strftime() accepts/returns a string encoded by charset that is determined by current system locale. Therefore date strings needed to be decoded according to current charset.

------------------------------------------------------------------------
r3999 | sympa-authors | 2006-11-03 15:57:57 +0100 (Fri, 03 Nov 2006) | 2 lines
Changed paths:
   M /trunk/src/report.pm

Fix: related to latest changes ; sympa.pl would die if message body is empty

------------------------------------------------------------------------
r3998 | sympa-authors | 2006-11-03 15:22:48 +0100 (Fri, 03 Nov 2006) | 2 lines
Changed paths:
   M /trunk/src/List.pm

print error message if include_remote_file failed

------------------------------------------------------------------------
r3997 | sympa-authors | 2006-11-03 15:11:25 +0100 (Fri, 03 Nov 2006) | 2 lines
Changed paths:
   M /trunk/soap/sympasoap.pm

Fix typo: == instead og eq

------------------------------------------------------------------------
r3996 | sympa-authors | 2006-11-03 14:43:20 +0100 (Fri, 03 Nov 2006) | 2 lines
Changed paths:
   M /trunk/web_tt2/active_lists.tt2
   M /trunk/web_tt2/admin.tt2
   M /trunk/web_tt2/admin_menu.tt2
   M /trunk/web_tt2/arc_manage.tt2
   M /trunk/web_tt2/arcsearch.tt2
   M /trunk/web_tt2/blacklist.tt2
   M /trunk/web_tt2/close_list.tt2
   M /trunk/web_tt2/d_read.tt2
   M /trunk/web_tt2/edit_list_request.tt2
   M /trunk/web_tt2/edit_template.tt2
   M /trunk/web_tt2/editfile.tt2
   M /trunk/web_tt2/editsubscriber.tt2
   M /trunk/web_tt2/error.tt2
   M /trunk/web_tt2/get_inactive_lists.tt2
   M /trunk/web_tt2/help.tt2
   M /trunk/web_tt2/help_editfile.tt2
   M /trunk/web_tt2/help_editlist.tt2
   M /trunk/web_tt2/help_user_options.tt2
   M /trunk/web_tt2/javascript.tt2
   M /trunk/web_tt2/latest_arc.tt2
   M /trunk/web_tt2/latest_d_read.tt2
   M /trunk/web_tt2/lists.tt2
   M /trunk/web_tt2/ls_templates.tt2
   M /trunk/web_tt2/modindex.tt2
   M /trunk/web_tt2/notice.tt2
   M /trunk/web_tt2/pref.tt2
   M /trunk/web_tt2/remove_arc.tt2
   M /trunk/web_tt2/review.tt2
   M /trunk/web_tt2/reviewbouncing.tt2
   M /trunk/web_tt2/rss.tt2
   M /trunk/web_tt2/rss_request.tt2
   M /trunk/web_tt2/scenario_test.tt2
   M /trunk/web_tt2/serveradmin.tt2
   M /trunk/web_tt2/sigrequest.tt2
   M /trunk/web_tt2/skinsedit.tt2
   M /trunk/web_tt2/sso_login.tt2
   M /trunk/web_tt2/suboptions.tt2
   M /trunk/web_tt2/subrequest.tt2
   M /trunk/web_tt2/view_template.tt2
   M /trunk/web_tt2/viewlogs.tt2
   M /trunk/wwsympa/wwslib.pm

Fix: applied revisions from Jill Gemmill to templates

------------------------------------------------------------------------
r3995 | sympa-authors | 2006-11-03 12:03:41 +0100 (Fri, 03 Nov 2006) | 2 lines
Changed paths:
   M /trunk/doc/sympa.tex.tpl
   M /trunk/src/List.pm

[requested by S.Peterson] Extended available parameters for search filters

------------------------------------------------------------------------
r3994 | sympa-authors | 2006-11-03 09:45:33 +0100 (Fri, 03 Nov 2006) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/NEWS

finishing 5.3a.10

------------------------------------------------------------------------
r3993 | sympa-authors | 2006-11-03 09:39:15 +0100 (Fri, 03 Nov 2006) | 2 lines
Changed paths:
   M /trunk/src/tt2.pl

[S.Ikeda] Fix: restore FB_CROAK to preserve data if operation fails

------------------------------------------------------------------------
r3992 | sympa-authors | 2006-11-02 17:28:13 +0100 (Thu, 02 Nov 2006) | 2 lines
Changed paths:
   M /trunk/src/List.pm

Fix: load topics.conf using filesystem_encoding

------------------------------------------------------------------------
r3991 | sympa-authors | 2006-11-02 17:25:51 +0100 (Thu, 02 Nov 2006) | 2 lines
Changed paths:
   M /trunk/src/tt2.pl

Restore previous code

------------------------------------------------------------------------
r3990 | sympa-authors | 2006-11-02 17:22:12 +0100 (Thu, 02 Nov 2006) | 2 lines
Changed paths:
   M /trunk/src/Upgrade.pm

Change: regenerate all config.bin files while upgrading ; required for character encoding problems

------------------------------------------------------------------------
r3989 | sympa-authors | 2006-11-02 15:35:59 +0100 (Thu, 02 Nov 2006) | 2 lines
Changed paths:
   M /trunk/src/etc/script/arc2webarc.pl

New feature: arc2webarc.pl can use an input directory containing individual messages files

------------------------------------------------------------------------
r3988 | sympa-authors | 2006-11-02 12:47:01 +0100 (Thu, 02 Nov 2006) | 2 lines
Changed paths:
   M /trunk/src/tt2.pl

Fix: Removed code from S.Ideka because created some encoding problems with list subjects pinted on the web interface

------------------------------------------------------------------------
r3987 | sympa-authors | 2006-11-02 11:49:13 +0100 (Thu, 02 Nov 2006) | 2 lines
Changed paths:
   M /trunk/src/etc/topics.conf

Turned topics;conf into utf-8

------------------------------------------------------------------------
r3986 | sympa-authors | 2006-11-02 11:02:18 +0100 (Thu, 02 Nov 2006) | 2 lines
Changed paths:
   M /trunk/ChangeLog
   M /trunk/Makefile.in
   M /trunk/NEWS
   M /trunk/doc/html/index.html
   M /trunk/doc/html/node1.html
   M /trunk/doc/html/node10.html
   M /trunk/doc/html/node11.html
   M /trunk/doc/html/node12.html
   M /trunk/doc/html/node13.html
   M /trunk/doc/html/node14.html
   M /trunk/doc/html/node15.html
   M /trunk/doc/html/node16.html
   M /trunk/doc/html/node17.html
   M /trunk/doc/html/node18.html
   M /trunk/doc/html/node19.html
   M /trunk/doc/html/node2.html
   M /trunk/doc/html/node20.html
   M /trunk/doc/html/node21.html
   M /trunk/doc/html/node22.html
   M /trunk/doc/html/node23.html
   M /trunk/doc/html/node24.html
   M /trunk/doc/html/node25.html
   M /trunk/doc/html/node26.html
   M /trunk/doc/html/node27.html
   M /trunk/doc/html/node28.html
   M /trunk/doc/html/node29.html
   M /trunk/doc/html/node3.html
   M /trunk/doc/html/node30.html
   M /trunk/doc/html/node31.html
   M /trunk/doc/html/node4.html
   M /trunk/doc/html/node5.html
   M /trunk/doc/html/node6.html
   M /trunk/doc/html/node7.html
   M /trunk/doc/html/node8.html
   M /trunk/doc/html/node9.html
   M /trunk/doc/html/sympa.html
   M /trunk/doc/html/sympa.ps
   M /trunk/doc/sympa.pdf
   M /trunk/doc/sympa.ps
   M /trunk/doc/sympa.tex

preparing 5.3a.10

------------------------------------------------------------------------
r3985 | sympa-authors | 2006-11-02 10:42:18 +0100 (Thu, 02 Nov 2006) | 4 lines
Changed paths:
   M /trunk/doc/sympa.tex.tpl
   M /trunk/mail_tt2/digest.tt2
   M /trunk/mail_tt2/digest_plain.tt2
   M /trunk/mail_tt2/listmaster_notification.tt2
   M /trunk/mail_tt2/listowner_notification.tt2
   M /trunk/mail_tt2/moderate.tt2
   M /trunk/web_tt2/blacklist.tt2
   M /trunk/web_tt2/dump_scenario.tt2
   M /trunk/web_tt2/list_admin_menu.tt2
   M /trunk/web_tt2/list_menu.tt2
   M /trunk/web_tt2/review.tt2
   M /trunk/web_tt2/serveradmin.tt2
   M /trunk/web_tt2/viewlogs.tt2

[S.Ikeda] Fix: made some fixes to documentation and templates :
 - TeX file: Some non-ASCII charcters and a few typos are fixed.
 - Templates: Some mail headers won't be encoded.  Translatable items are added.

------------------------------------------------------------------------
r3984 | sympa-authors | 2006-11-02 09:48:52 +0100 (Thu, 02 Nov 2006) | 2 lines
Changed paths:
   M /trunk/wwsympa/bounced.pl

Added db_log for bouncing welcome

------------------------------------------------------------------------
r3983 | serge.aumont | 2006-11-02 08:25:25 +0100 (Thu, 02 Nov 2006) | 2 lines
Changed paths:
   M /trunk/soap/sympa.wsdl
   M /trunk/soap/sympasoap.pm

better ddefinition of getUserEmailByCookieRequest parameters

------------------------------------------------------------------------
r3982 | serge.aumont | 2006-10-30 15:37:20 +0100 (Mon, 30 Oct 2006) | 2 lines
Changed paths:
   M /trunk/soap/sympa.wsdl

Fix bug in wsdl

------------------------------------------------------------------------
r3981 | sympa-authors | 2006-10-30 14:34:18 +0100 (Mon, 30 Oct 2006) | 3 lines
Changed paths:
   M /trunk/wwsympa/Marc/Search.pm

Fix: No more decode X-Subject from web archives ; they are already decoded
WWSympa.fcgi would die with the following error : "MIME::Words: unexpected case"

------------------------------------------------------------------------
r3980 | olivier.salaun | 2006-10-27 18:08:20 +0200 (Fri, 27 Oct 2006) | 3 lines
Changed paths:
   M /trunk/mail_tt2/authorization_reject.tt2
   M /trunk/mail_tt2/bye.tt2
   M /trunk/mail_tt2/command_report.tt2
   M /trunk/mail_tt2/global_remind.tt2
   M /trunk/mail_tt2/helpfile.tt2
   M /trunk/mail_tt2/info_report.tt2
   M /trunk/mail_tt2/listmaster_notification.tt2
   M /trunk/mail_tt2/listowner_notification.tt2
   M /trunk/mail_tt2/lists.tt2
   M /trunk/mail_tt2/message_report.tt2
   M /trunk/mail_tt2/sendpasswd.tt2
   M /trunk/mail_tt2/user_notification.tt2
   M /trunk/mail_tt2/which.tt2
   M /trunk/mail_tt2/x509-user-cert-missing.tt2
   M /trunk/mail_tt2/your_infected_msg.tt2
   M /trunk/po/cs.po
   M /trunk/po/de.po
   M /trunk/po/el.po
   M /trunk/po/en_US.po
   M /trunk/po/es.po
   M /trunk/po/et.po
   M /trunk/po/fi.po
   M /trunk/po/fr.po
   M /trunk/po/hu.po
   M /trunk/po/it.po
   M /trunk/po/ja.po
   M /trunk/po/nb_NO.po
   M /trunk/po/nl.po
   M /trunk/po/oc.po
   M /trunk/po/pl.po
   M /trunk/po/pt.po
   M /trunk/po/pt_BR.po
   M /trunk/po/ro.po
   M /trunk/po/sv.po
   M /trunk/po/sympa.pot
   M /trunk/po/tr.po
   M /trunk/po/zh_CN.po
   M /trunk/po/zh_TW.po
   M /trunk/src/List.pm
   M /trunk/src/etc/mhonarc-ressources.tt2
   M /trunk/src/etc/scenari/add.owner
   M /trunk/src/etc/scenari/add.owner_notify
   M /trunk/src/etc/scenari/review.closed
   M /trunk/web_tt2/latest_lists.tt2

Changes: reported changes in en_US.po (updated by Jill Gemmil) to templates.
Work is half-done.

------------------------------------------------------------------------
r3979 | olivier.salaun | 2006-10-27 16:44:30 +0200 (Fri, 27 Oct 2006) | 5 lines
Changed paths:
   M /trunk/src/mail.pm
   M /trunk/src/tt2.pl

[S.Ikeda] Fixes: type for suggest_encoding() subroutine ; better UTF-8
management with TT2.
Patches: sympa-MAIN-20061021-mail_encoding_fix1.patch +
sympa-MAIN-20061015-tt2_utf8.patch

------------------------------------------------------------------------
r3978 | olivier.salaun | 2006-10-27 16:35:47 +0200 (Fri, 27 Oct 2006) | 3 lines
Changed paths:
   M /trunk/src/sympa.pl

[S.Amrani, Gend. Nationale] Change: added 'automatic_listname' variable to
scenario context.

------------------------------------------------------------------------
r3977 | sympa-authors | 2006-10-27 09:11:35 +0200 (Fri, 27 Oct 2006) | 2 lines
Changed paths:
   M /trunk/po/check_locales.pl

Fix: missing word

------------------------------------------------------------------------
r3976 | serge.aumont | 2006-10-24 10:34:18 +0200 (Tue, 24 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/html/node10.html
   M /trunk/doc/html/node11.html
   M /trunk/doc/html/node12.html
   M /trunk/doc/html/node13.html
   M /trunk/doc/html/node14.html
   M /trunk/doc/html/node15.html
   M /trunk/doc/html/node16.html
   M /trunk/doc/html/node17.html
   M /trunk/doc/html/node18.html
   M /trunk/doc/html/node19.html
   M /trunk/doc/html/node2.html
   M /trunk/doc/html/node20.html
   M /trunk/doc/html/node21.html
   M /trunk/doc/html/node22.html
   M /trunk/doc/html/node23.html
   M /trunk/doc/html/node24.html
   M /trunk/doc/html/node25.html
   M /trunk/doc/html/node26.html
   M /trunk/doc/html/node27.html
   M /trunk/doc/html/node28.html
   M /trunk/doc/html/node29.html
   M /trunk/doc/html/node3.html
   M /trunk/doc/html/node30.html
   M /trunk/doc/html/node31.html
   M /trunk/doc/html/node4.html
   M /trunk/doc/html/node5.html
   M /trunk/doc/html/node6.html
   M /trunk/doc/html/node7.html
   M /trunk/doc/html/node8.html
   M /trunk/doc/html/node9.html
   M /trunk/doc/html/sympa.ps
   M /trunk/doc/sympa.pdf
   M /trunk/doc/sympa.ps
   M /trunk/doc/sympa.tex
   M /trunk/doc/sympa.tex.tpl
   M /trunk/soap/sympa.wsdl
   M /trunk/soap/sympa_soap_client.pl
   M /trunk/soap/sympasoap.pm
   M /trunk/wwsympa/wwslib.pm
   M /trunk/wwsympa/wwsympa.fcgi

new soap method getUserEmailByCookie

------------------------------------------------------------------------
r3975 | sympa-authors | 2006-10-24 10:05:29 +0200 (Tue, 24 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/html/index.html
   M /trunk/doc/html/node1.html
   M /trunk/doc/html/node10.html
   M /trunk/doc/html/node11.html
   M /trunk/doc/html/node12.html
   M /trunk/doc/html/node13.html
   M /trunk/doc/html/node14.html
   M /trunk/doc/html/node15.html
   M /trunk/doc/html/node16.html
   M /trunk/doc/html/node17.html
   M /trunk/doc/html/node18.html
   M /trunk/doc/html/node19.html
   M /trunk/doc/html/node2.html
   M /trunk/doc/html/node20.html
   M /trunk/doc/html/node21.html
   M /trunk/doc/html/node22.html
   M /trunk/doc/html/node23.html
   M /trunk/doc/html/node24.html
   M /trunk/doc/html/node25.html
   M /trunk/doc/html/node26.html
   M /trunk/doc/html/node27.html
   M /trunk/doc/html/node28.html
   M /trunk/doc/html/node29.html
   M /trunk/doc/html/node3.html
   M /trunk/doc/html/node30.html
   M /trunk/doc/html/node31.html
   M /trunk/doc/html/node4.html
   M /trunk/doc/html/node5.html
   M /trunk/doc/html/node6.html
   M /trunk/doc/html/node7.html
   M /trunk/doc/html/node8.html
   M /trunk/doc/html/node9.html
   M /trunk/doc/html/sympa.html
   M /trunk/doc/html/sympa.ps
   M /trunk/doc/sympa.pdf
   M /trunk/doc/sympa.ps
   M /trunk/doc/sympa.tex
   M /trunk/doc/sympa.tex.tpl

Fixed documentation

------------------------------------------------------------------------
r3974 | sympa-authors | 2006-10-23 16:36:45 +0200 (Mon, 23 Oct 2006) | 2 lines
Changed paths:
   M /trunk/src/Commands.pm
   M /trunk/src/report.pm
   M /trunk/src/sympa.pl

[requested by W.Howard] New feature: original_msg is now available in msg reports

------------------------------------------------------------------------
r3973 | sympa-authors | 2006-10-23 13:45:17 +0200 (Mon, 23 Oct 2006) | 2 lines
Changed paths:
   M /trunk/NEWS

Add informations about the news static-sympa Alias to create

------------------------------------------------------------------------
r3972 | sympa-authors | 2006-10-20 12:16:48 +0200 (Fri, 20 Oct 2006) | 3 lines
Changed paths:
   M /trunk/src/Language.pm

[reported by Soji Ikeda] Fix: Japanese was incorrectly encoded in the list of languages.
Also changed the way gettext() handles parameters to prevent unwanted modifications

------------------------------------------------------------------------
r3971 | sympa-authors | 2006-10-19 17:50:50 +0200 (Thu, 19 Oct 2006) | 2 lines
Changed paths:
   M /trunk/doc/sympa.tex

updated

------------------------------------------------------------------------
r3970 | sympa-authors | 2006-10-19 17:18:41 +0200 (Thu, 19 Oct 2006) | 2 lines
Changed paths:
   M /trunk/src/mail.pm

[reported by Soji Ikeda] Fix: mail_file() subroutine incorrectly detecting folded header fields.

------------------------------------------------------------------------
r3969 | sympa-authors | 2006-10-19 17:11:25 +0200 (Thu, 19 Oct 2006) | 2 lines
Changed paths:
   M /trunk/ChangeLog

update

------------------------------------------------------------------------
r3968 | sympa-authors | 2006-10-19 17:10:21 +0200 (Thu, 19 Oct 2006) | 2 lines
Changed paths:
   M /trunk/mail_tt2/listeditor_notification.tt2
   M /trunk/mail_tt2/listmaster_notification.tt2

Fix: now only Q-encoding the gecos, not the To email address

------------------------------------------------------------------------
r3967 | sympa-authors | 2006-10-19 17:06:57 +0200 (Thu, 19 Oct 2006) | 2 lines
Changed paths:
   M /trunk/mail_tt2/moderate.tt2

Fix: To header field now also Q-encoded

